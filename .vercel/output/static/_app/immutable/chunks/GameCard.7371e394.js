import{S as Z,i as $,s as ee,k as I,q as B,a as C,l as q,m as k,r as O,h as c,c as L,n as s,b as T,G as o,u as X,K as te,$ as le,O as ae,a2 as se,E as N,a0 as U,a1 as F,P as ie,w as re}from"./index.8e69b878.js";import{f as ne}from"./index.8d01d5d1.js";import{p as oe}from"./stores.986fa1bf.js";import{l as fe}from"./store.55a48864.js";function J(l,e,t){const a=l.slice();return a[12]=e[t],a}function Q(l){let e,t;return{c(){e=I("i"),this.h()},l(a){e=q(a,"I",{class:!0}),k(e).forEach(c),this.h()},h(){s(e,"class",t="twa text-4xl twa-"+l[12])},m(a,r){T(a,e,r)},p(a,r){r&32&&t!==(t="twa text-4xl twa-"+a[12])&&s(e,"class",t)},d(a){a&&c(e)}}}function R(l){let e,t,a,r,_,d,x=l[4].username+"",n,h;return{c(){e=I("a"),t=I("div"),a=I("div"),r=I("i"),_=C(),d=I("div"),n=B(x),this.h()},l(f){e=q(f,"A",{href:!0,class:!0});var v=k(e);t=q(v,"DIV",{class:!0});var p=k(t);a=q(p,"DIV",{class:!0});var j=k(a);r=q(j,"I",{class:!0}),k(r).forEach(c),j.forEach(c),p.forEach(c),_=L(v),d=q(v,"DIV",{});var D=k(d);n=O(D,x),D.forEach(c),v.forEach(c),this.h()},h(){s(r,"class","twa twa-alien text-lg"),s(a,"class","w-8 rounded-full bg-neutral text-neutral-content"),s(t,"class","placeholder avatar"),s(e,"href",h="/profile/"+l[4].username),s(e,"class","btn-ghost btn-sm btn flex gap-2 rounded-l-full border-none pl-0 hover:border-none")},m(f,v){T(f,e,v),o(e,t),o(t,a),o(a,r),o(e,_),o(e,d),o(d,n)},p(f,v){v&16&&x!==(x=f[4].username+"")&&X(n,x),v&16&&h!==(h="/profile/"+f[4].username)&&s(e,"href",h)},d(f){f&&c(e)}}}function W(l){let e,t,a,r,_,d,x;return{c(){e=I("button"),t=U("svg"),a=U("path"),this.h()},l(n){e=q(n,"BUTTON",{});var h=k(e);t=F(h,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var f=k(t);a=F(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(a).forEach(c),f.forEach(c),h.forEach(c),this.h()},h(){s(a,"stroke-linecap","round"),s(a,"stroke-linejoin","round"),s(a,"d","M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"fill",r=l[6]?"red":"none"),s(t,"viewBox","0 0 24 24"),s(t,"stroke-width","1.5"),s(t,"stroke",_=l[6]?"none":"currentColor"),s(t,"class","h-8 w-8")},m(n,h){T(n,e,h),o(e,t),o(t,a),d||(x=ie(e,"click",l[8]),d=!0)},p(n,h){h&64&&r!==(r=n[6]?"red":"none")&&s(t,"fill",r),h&64&&_!==(_=n[6]?"none":"currentColor")&&s(t,"stroke",_)},d(n){n&&c(e),d=!1,x()}}}function de(l){let e,t,a,r,_,d,x,n,h,f,v,p,j,D,i,V,Y,A,z,S=[...l[5].keys()],b=[];for(let g=0;g<S.length;g+=1)b[g]=Q(J(l,S,g));let w=l[4]&&R(l),E=l[7].data.session&&W(l);return{c(){e=I("div"),t=I("h3"),a=B(l[3]),r=C(),_=I("p"),d=B(`Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem\r
		doloribus unde quae? Soluta vel deserunt ipsam aliquam amet esse officia\r
		impedit, illum est, vitae placeat?`),x=C(),n=I("div");for(let g=0;g<b.length;g+=1)b[g].c();h=C(),f=I("div"),v=C(),p=I("div"),w&&w.c(),j=C(),D=I("div"),E&&E.c(),i=C(),V=I("a"),Y=B("PLAY"),this.h()},l(g){e=q(g,"DIV",{id:!0,class:!0});var m=k(e);t=q(m,"H3",{});var u=k(t);a=O(u,l[3]),u.forEach(c),r=L(m),_=q(m,"P",{class:!0});var y=k(_);d=O(y,`Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem\r
		doloribus unde quae? Soluta vel deserunt ipsam aliquam amet esse officia\r
		impedit, illum est, vitae placeat?`),y.forEach(c),x=L(m),n=q(m,"DIV",{class:!0});var K=k(n);for(let H=0;H<b.length;H+=1)b[H].l(K);K.forEach(c),h=L(m),f=q(m,"DIV",{class:!0}),k(f).forEach(c),v=L(m),p=q(m,"DIV",{class:!0});var G=k(p);w&&w.l(G),j=L(G),D=q(G,"DIV",{class:!0});var P=k(D);E&&E.l(P),i=L(P),V=q(P,"A",{href:!0,class:!0});var M=k(V);Y=O(M,"PLAY"),M.forEach(c),P.forEach(c),G.forEach(c),m.forEach(c),this.h()},h(){s(_,"class","text-md text-slate-500"),s(n,"class","flex flex-row gap-2"),s(f,"class","flex flex-grow"),s(V,"href",A="/games/"+l[2]),s(V,"class","btn-sm btn self-end"),s(D,"class","flex items-center gap-2"),s(p,"class","flex flex-row justify-between"),s(e,"id","card"),s(e,"class","brutal relative mb-2 flex flex-col rounded-lg bg-slate-300 p-4 text-neutral svelte-kmqnqb")},m(g,m){T(g,e,m),o(e,t),o(t,a),o(e,r),o(e,_),o(_,d),o(e,x),o(e,n);for(let u=0;u<b.length;u+=1)b[u]&&b[u].m(n,null);o(e,h),o(e,f),o(e,v),o(e,p),w&&w.m(p,null),o(p,j),o(p,D),E&&E.m(D,null),o(D,i),o(D,V),o(V,Y),l[9](e)},p(g,[m]){if(l=g,m&8&&X(a,l[3]),m&32){S=[...l[5].keys()];let u;for(u=0;u<S.length;u+=1){const y=J(l,S,u);b[u]?b[u].p(y,m):(b[u]=Q(y),b[u].c(),b[u].m(n,null))}for(;u<b.length;u+=1)b[u].d(1);b.length=S.length}l[4]?w?w.p(l,m):(w=R(l),w.c(),w.m(p,j)):w&&(w.d(1),w=null),l[7].data.session?E?E.p(l,m):(E=W(l),E.c(),E.m(D,i)):E&&(E.d(1),E=null),m&4&&A!==(A="/games/"+l[2])&&s(V,"href",A)},i(g){z||te(()=>{z=le(e,ne,{delay:(l[1]+1)*80,x:200}),z.start()})},o:ae,d(g){g&&c(e),se(b,g),w&&w.d(),E&&E.d(),l[9](null)}}}function ce(l,e,t){let a,r;N(l,fe,i=>t(11,a=i)),N(l,oe,i=>t(7,r=i));let{index:_=0}=e,{id:d}=e,{name:x}=e,{profile:n}=e,{emojis:h=new Set}=e,{div:f=null}=e,v=a.has(d),p=!1;async function j(){var i,V;p||(t(6,v=!v),p=!0,v?(await r.data.supabase.from("likes").insert({game_id:d,liker_id:(V=r.data.session)==null?void 0:V.user.id}),a.add(d)):(await r.data.supabase.from("likes").delete().match({liker_id:(i=r.data.session)==null?void 0:i.user.id,game_id:d}),a.delete(d)),p=!1)}function D(i){re[i?"unshift":"push"](()=>{f=i,t(0,f)})}return l.$$set=i=>{"index"in i&&t(1,_=i.index),"id"in i&&t(2,d=i.id),"name"in i&&t(3,x=i.name),"profile"in i&&t(4,n=i.profile),"emojis"in i&&t(5,h=i.emojis),"div"in i&&t(0,f=i.div)},[f,_,d,x,n,h,v,r,j,D]}class ve extends Z{constructor(e){super(),$(this,e,ce,de,ee,{index:1,id:2,name:3,profile:4,emojis:5,div:0})}}export{ve as G};
