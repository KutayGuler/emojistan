import{al as $e,S as _t,i as dt,s as vt,k as m,l as b,m as p,h as u,n as f,b as A,O as Ie,a2 as le,E as ae,q as F,a as q,r as H,c as y,G as h,P as M,K as Ve,a6 as Z,a3 as ll,u as Te,T as Le,o as Vt,ak as Mt,p as he,a7 as Pe,am as Cs,a0 as Yt,a1 as Jt,U as hl,v as Ds,d as at,f as Ss,g as it,W as Qt,a8 as kt,y as It,z as Tt,A as jt,a9 as Ot,aa as Ct,B as Dt}from"./index.8e69b878.js";import{w as Lt}from"./index.17127d3e.js";import{m as Ns,n as Bs,M as Ps,o as Vs,p as Ls,q as Rs,P as As,r as Us,b as qs,d as ys,a as Ms,e as Fs,S as Hs,w as ks,x as Gs,y as Ws,j as zs,k as Ks,I as Qs,l as Xs,g as Ys,h as Js,E as sl,i as Zs,z as xs,A as ft,C as Ke,D as _l,B as $s,F as eo,v as dl}from"./index.8d01d5d1.js";import{j as Pt,S as Is,i as ut,k as wt,n as rt,o as yt,p as Bt,b as Ts,C as js,a as Zt,D as xt,I as Os,f as ct,c as to,t as lo,g as vl,m as el}from"./store.55a48864.js";import{n as Ue}from"./notifications.048afdce.js";let so=class{constructor(e,t,o){switch(this.id=e,this.type=t,this.position=o,t){case"ctxMenu":this.width=xs;return;case"effector":this.width=Ys,this.height=Js,this.borderColor=sl,this.bgColor=Zs;return;case"interactable":this.width=zs,this.height=Ks,this.borderColor=Qs,this.bgColor=Xs;return;case"sequencer":this.width=Hs,this.height=ks,this.borderColor=Gs,this.bgColor=Ws;return;case"controllable":this.width=qs,this.height=ys,this.borderColor=Ms,this.bgColor=Fs;return;case"pusher":this.width=Ls,this.height=Rs,this.borderColor=As,this.bgColor=Us;return;case"merger":this.width=Ns,this.height=Bs,this.borderColor=Ps,this.bgColor=Vs;return}}};function oo(){const l=[],{set:e,subscribe:t,update:o}=Lt(l);return{set:e,subscribe:t,update:o,useStorage:n=>{const s=JSON.parse(localStorage.getItem(n+"_rbxs"));e(s||[]),t(r=>{localStorage.setItem(n+"_rbxs",JSON.stringify(Array.from(r)))})},spawn(n,s){let r="-1";return o(a=>(a=a.filter(i=>i.type!="ctxMenu"),r=`${Math.max(...a.map(i=>+i.id),0)+1}`,a.push(new so(r,n,s)),a)),r},remove:n=>o(s=>(s=s.filter(r=>r.id!=n),s)),removeCtxMenu:()=>o(n=>(n=n.filter(s=>s.type!="ctxMenu"),n)),adjustHeight:(n,s,r)=>o(a=>{for(let i of a)if(i.id===n){i.height=r+s*56;break}return a})}}const ln=Lt(!0),no=Lt(!0),Xt=Lt(!1),tl=Lt("-1"),ro=Lt(1),ht=oo(),ao=(l,e)=>{ht.update(t=>(t.forEach(o=>{if(o.id===e){const n=$e(ro);o.position.x+=l.movementX/n,o.position.y+=l.movementY/n}}),[...t]))},io=(l,e)=>{$e(ht).forEach(t=>{var o;t.id===$e(tl)&&((o=t.clickCallback)==null||o.call(t,t))})};function gl(l,e,t){const o=l.slice();return o[4]=e[t].name,o[5]=e[t].onClick,o}function ml(l){let e,t=l[4]+"",o,n,s,r;return{c(){e=m("button"),o=F(t),n=q(),this.h()},l(a){e=b(a,"BUTTON",{class:!0});var i=p(e);o=H(i,t),n=y(i),i.forEach(u),this.h()},h(){f(e,"class",l[4]+" box-border h-8 w-full p-1 text-start")},m(a,i){A(a,e,i),h(e,o),h(e,n),s||(r=M(e,"click",l[5]),s=!0)},p(a,i){l=a},d(a){a&&u(e),s=!1,r()}}}function co(l){let e,t=l[0],o=[];for(let n=0;n<t.length;n+=1)o[n]=ml(gl(l,t,n));return{c(){e=m("ul");for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=b(n,"UL",{class:!0});var s=p(e);for(let r=0;r<o.length;r+=1)o[r].l(s);s.forEach(u),this.h()},h(){f(e,"class","w-full bg-white")},m(n,s){A(n,e,s);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(e,null)},p(n,[s]){if(s&1){t=n[0];let r;for(r=0;r<t.length;r+=1){const a=gl(n,t,r);o[r]?o[r].p(a,s):(o[r]=ml(a),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=t.length}},i:Ie,o:Ie,d(n){n&&u(e),le(o,n)}}}function uo(l,e,t){let o;ae(l,Pt,a=>t(2,o=a));let{position:n}=e;function s(a,i){const c=ht.spawn(a,n);switch(a){case"pusher":Bt.add(c,i);break;case"merger":yt.add(c,i);break;case"effector":rt.add(c,i);break;case"controllable":wt.add(c,i);break;case"interactable":ut.add(c,i);break;case"sequencer":Pt.add(c,i);break}}let r=[{name:"Pusher",onClick:()=>s("pusher",["","","push"])},{name:"Merger",onClick:()=>s("merger",["","",""])},{name:"Effector",onClick:()=>s("effector",new Ts("",1,"equippable"))},{name:"Controllable",onClick:()=>s("controllable",new js("",1,[],new Zt("",2),new xt("")))},{name:"Interactable",onClick:()=>s("interactable",new Os("","-1",1,[["any","talk","none"]],new Zt("",2),new xt(""),["-1",0]))},{name:"Sequencer",onClick:()=>s("sequencer",new Is("Event_"+o.size,[]))}];return l.$$set=a=>{"position"in a&&t(1,n=a.position)},[r,n]}class fo extends _t{constructor(e){super(),dt(this,e,uo,co,vt,{position:1})}}function ol(l,e,t){for(let[o,n]of $e(e).entries())if(o!==l&&$e(ct)===n.emoji)return Ue.warning(`Cannot have two ${t}s with the same emoji.`),!0;return!1}function nl(){for(let l of[...$e(wt).values(),...$e(rt).values(),...$e(ut).values()])if(typeof l=="string"&&l!=""&&$e(ct)===l||typeof l=="object"&&$e(ct)===l.emoji)return Ue.warning("An emoji can only have one assigned type. Controllable, Interactable or Effector."),!0;return!1}function bl(l,e,t){const o=l.slice();return o[33]=e[t],o}function pl(l,e,t){const o=l.slice();return o[7]=e[t][0],o[5]=e[t][1].emoji,o}function El(l,e,t){const o=l.slice();return o[5]=e[t][0],o[38]=e[t][1],o}function wl(l,e,t){var s;const o=l.slice();o[41]=e[t][0],o[38]=e[t][1],o[42]=e[t][2],o[44]=e,o[45]=t;const n=(s=o[8].get(o[41]))==null?void 0:s.emoji;return o[43]=n,o}function kl(l,e,t){const o=l.slice();return o[46]=e[t],o}function Il(l,e,t){const o=l.slice();return o[7]=e[t][0],o[49]=e[t][1],o}function Tl(l,e,t){const o=l.slice();return o[7]=e[t][0],o[5]=e[t][1].emoji,o}function jl(l,e,t){const o=l.slice();return o[33]=e[t],o}function Ol(l,e,t){const o=l.slice();return o[33]=e[t],o}function Cl(l){let e,t=l[33]+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[33],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&512&&t!==(t=s[33]+"")&&Te(o,t),r[0]&512&&n!==(n=s[33])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function Dl(l){let e,t=l[33]+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[33],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&512&&t!==(t=s[33]+"")&&Te(o,t),r[0]&512&&n!==(n=s[33])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function Sl(l){let e,t,o,n,s,r,a=l[12],i=[];for(let _=0;_<a.length;_+=1)i[_]=Bl(Tl(l,a,_));let c=null;return a.length||(c=Nl()),{c(){e=m("div"),t=m("label"),o=F("+"),s=q(),r=m("ul");for(let _=0;_<i.length;_+=1)i[_].c();c&&c.c(),this.h()},l(_){e=b(_,"DIV",{class:!0});var g=p(e);t=b(g,"LABEL",{for:!0,tabindex:!0,class:!0});var d=p(t);o=H(d,"+"),d.forEach(u),s=y(g),r=b(g,"UL",{tabindex:!0,class:!0});var w=p(r);for(let v=0;v<i.length;v+=1)i[v].l(w);c&&c.l(w),w.forEach(u),g.forEach(u),this.h()},h(){f(t,"for",""),f(t,"tabindex","0"),f(t,"class",n="btn text-2xl "+(l[5]?"bg-purple-500":"pointer-events bg-purple-100")),he(t,"background",sl),f(r,"tabindex","0"),f(r,"class","dropdown-content menu rounded-box bg-base-100 p-2 shadow"),f(e,"class","dropdown-right dropdown")},m(_,g){A(_,e,g),h(e,t),h(t,o),h(e,s),h(e,r);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(r,null);c&&c.m(r,null)},p(_,g){if(g[0]&32&&n!==(n="btn text-2xl "+(_[5]?"bg-purple-500":"pointer-events bg-purple-100"))&&f(t,"class",n),g[0]&36864){a=_[12];let d;for(d=0;d<a.length;d+=1){const w=Tl(_,a,d);i[d]?i[d].p(w,g):(i[d]=Bl(w),i[d].c(),i[d].m(r,null))}for(;d<i.length;d+=1)i[d].d(1);i.length=a.length,!a.length&&c?c.p(_,g):a.length?c&&(c.d(1),c=null):(c=Nl(),c.c(),c.m(r,null))}},d(_){_&&u(e),le(i,_),c&&c.d()}}}function Nl(l){let e,t;return{c(){e=m("div"),t=F("No effectors defined."),this.h()},l(o){e=b(o,"DIV",{class:!0});var n=p(e);t=H(n,"No effectors defined."),n.forEach(u),this.h()},h(){f(e,"class","rounded-md p-1")},m(o,n){A(o,e,n),h(e,t)},p:Ie,d(o){o&&u(e)}}}function Bl(l){let e,t,o,n,s,r;function a(){return l[24](l[7])}return{c(){e=m("button"),t=m("i"),n=q(),this.h()},l(i){e=b(i,"BUTTON",{class:!0});var c=p(e);t=b(c,"I",{class:!0}),p(t).forEach(u),n=y(c),c.forEach(u),this.h()},h(){f(t,"class",o="twa twa-"+l[5]+" svelte-1yjl60b"),f(e,"class","rounded-md p-1 hover:bg-base-200")},m(i,c){A(i,e,c),h(e,t),h(e,n),s||(r=M(e,"click",a),s=!0)},p(i,c){l=i,c[0]&4096&&o!==(o="twa twa-"+l[5]+" svelte-1yjl60b")&&f(t,"class",o)},d(i){i&&u(e),s=!1,r()}}}function Pl(l){let e,t;return{c(){e=m("p"),t=F(`An interactable needs at least one side effect with positive or negative\r
				value to be interactable!`),this.h()},l(o){e=b(o,"P",{class:!0});var n=p(e);t=H(n,`An interactable needs at least one side effect with positive or negative\r
				value to be interactable!`),n.forEach(u),this.h()},h(){f(e,"class","text-error")},m(o,n){A(o,e,n),h(e,t)},d(o){o&&u(e)}}}function Vl(l){let e,t,o,n,s,r=[...l[13]],a=[];for(let c=0;c<r.length;c+=1)a[c]=Ll(Il(l,r,c));function i(){l[25].call(e,l[44],l[45])}return{c(){e=m("select"),t=m("option"),o=F("none");for(let c=0;c<a.length;c+=1)a[c].c();this.h()},l(c){e=b(c,"SELECT",{title:!0,name:!0,class:!0});var _=p(e);t=b(_,"OPTION",{});var g=p(t);o=H(g,"none"),g.forEach(u);for(let d=0;d<a.length;d+=1)a[d].l(_);_.forEach(u),this.h()},h(){t.__value="none",t.value=t.__value,f(e,"title","Sequencer name"),f(e,"name","Sequence name"),f(e,"class","select-bordered select select-sm absolute -bottom-10 border-amber-500"),l[42]===void 0&&Ve(i)},m(c,_){A(c,e,_),h(e,t),h(t,o);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(e,null);Z(e,l[42],!0),n||(s=[M(e,"change",i),M(e,"change",l[14])],n=!0)},p(c,_){if(l=c,_[0]&8192){r=[...l[13]];let g;for(g=0;g<r.length;g+=1){const d=Il(l,r,g);a[g]?a[g].p(d,_):(a[g]=Ll(d),a[g].c(),a[g].m(e,null))}for(;g<a.length;g+=1)a[g].d(1);a.length=r.length}_[0]&8194&&Z(e,l[42])},d(c){c&&u(e),le(a,c),n=!1,Le(s)}}}function Ll(l){let e,t=l[49].name+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[7],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&8192&&t!==(t=s[49].name+"")&&Te(o,t),r[0]&8192&&n!==(n=s[7])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function ho(l){let e,t,o,n,s,r,a,i;function c(){return l[26](l[45])}return{c(){e=m("button"),t=F(Ke),o=q(),n=m("div"),s=m("i"),this.h()},l(_){e=b(_,"BUTTON",{class:!0});var g=p(e);t=H(g,Ke),g.forEach(u),o=y(_),n=b(_,"DIV",{class:!0});var d=p(n);s=b(d,"I",{class:!0}),p(s).forEach(u),d.forEach(u),this.h()},h(){f(e,"class","absolute -right-2 -top-2 text-lg"),f(s,"class",r="twa twa-"+l[43]+" svelte-1yjl60b"),f(n,"class","slot-lg scale-75")},m(_,g){A(_,e,g),h(e,t),A(_,o,g),A(_,n,g),h(n,s),a||(i=M(e,"click",c),a=!0)},p(_,g){l=_,g[0]&8450&&r!==(r="twa twa-"+l[43]+" svelte-1yjl60b")&&f(s,"class",r)},d(_){_&&u(e),_&&u(o),_&&u(n),a=!1,i()}}}function _o(l){let e,t=l[41]+"",o;return{c(){e=m("div"),o=F(t),this.h()},l(n){e=b(n,"DIV",{class:!0});var s=p(e);o=H(s,t),s.forEach(u),this.h()},h(){f(e,"class","slot-lg scale-75")},m(n,s){A(n,e,s),h(e,o)},p(n,s){s[0]&2&&t!==(t=n[41]+"")&&Te(o,t)},d(n){n&&u(e)}}}function Rl(l){let e,t=(typeof l[46]=="number"&&l[46]>0?`+${l[46]}`:l[46])+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[46],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&1024&&t!==(t=(typeof s[46]=="number"&&s[46]>0?`+${s[46]}`:s[46])+"")&&Te(o,t),r[0]&1024&&n!==(n=s[46])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function Al(l){let e,t,o,n,s,r,a=l[38]=="trigger"&&Vl(l);function i(v,k){if(v[41]==="any")return _o;if(v[43])return ho}let c=i(l),_=c&&c(l),g=l[10],d=[];for(let v=0;v<g.length;v+=1)d[v]=Rl(kl(l,g,v));function w(){l[27].call(n,l[44],l[45])}return{c(){e=m("div"),a&&a.c(),t=q(),_&&_.c(),o=q(),n=m("select");for(let v=0;v<d.length;v+=1)d[v].c();this.h()},l(v){e=b(v,"DIV",{class:!0});var k=p(e);a&&a.l(k),t=y(k),_&&_.l(k),o=y(k),n=b(k,"SELECT",{class:!0});var E=p(n);for(let I=0;I<d.length;I+=1)d[I].l(E);E.forEach(u),k.forEach(u),this.h()},h(){f(n,"class","select-bordered select select-sm absolute -bottom-4"),l[38]===void 0&&Ve(w),f(e,"class","relative flex flex-col items-center")},m(v,k){A(v,e,k),a&&a.m(e,null),h(e,t),_&&_.m(e,null),h(e,o),h(e,n);for(let E=0;E<d.length;E+=1)d[E]&&d[E].m(n,null);Z(n,l[38],!0),s||(r=[M(n,"change",w),M(n,"change",l[14])],s=!0)},p(v,k){if(l=v,l[38]=="trigger"?a?a.p(l,k):(a=Vl(l),a.c(),a.m(e,t)):a&&(a.d(1),a=null),c===(c=i(l))&&_?_.p(l,k):(_&&_.d(1),_=c&&c(l),_&&(_.c(),_.m(e,o))),k[0]&1024){g=l[10];let E;for(E=0;E<g.length;E+=1){const I=kl(l,g,E);d[E]?d[E].p(I,k):(d[E]=Rl(I),d[E].c(),d[E].m(n,null))}for(;E<d.length;E+=1)d[E].d(1);d.length=g.length}k[0]&8194&&Z(n,l[38])},d(v){v&&u(e),a&&a.d(),_&&_.d(),le(d,v),s=!1,Le(r)}}}function Ul(l){let e,t,o,n,s,r,a,i,c,_,g=l[38]+"",d,w,v,k,E;return{c(){e=m("div"),t=m("button"),o=F(Ke),n=q(),s=m("div"),r=m("i"),i=q(),c=m("select"),_=m("option"),d=F(g),v=m("option"),k=F("+100"),E=q(),this.h()},l(I){e=b(I,"DIV",{class:!0});var T=p(e);t=b(T,"BUTTON",{class:!0});var C=p(t);o=H(C,Ke),C.forEach(u),n=y(T),s=b(T,"DIV",{class:!0});var D=p(s);r=b(D,"I",{class:!0}),p(r).forEach(u),D.forEach(u),i=y(T),c=b(T,"SELECT",{class:!0});var V=p(c);_=b(V,"OPTION",{});var P=p(_);d=H(P,g),P.forEach(u),v=b(V,"OPTION",{});var U=p(v);k=H(U,"+100"),U.forEach(u),V.forEach(u),E=y(T),T.forEach(u),this.h()},h(){f(t,"class","absolute -right-2 -top-2 text-lg"),f(r,"class",a="twa twa-"+l[5]+" svelte-1yjl60b"),f(s,"class","slot-lg scale-75"),_.selected=!0,_.__value=w=l[38],_.value=_.__value,v.__value="+100",v.value=v.__value,f(c,"class","select-bordered select select-sm absolute -bottom-4"),f(e,"class","relative flex flex-col items-center")},m(I,T){A(I,e,T),h(e,t),h(t,o),h(e,n),h(e,s),h(s,r),h(e,i),h(e,c),h(c,_),h(_,d),h(c,v),h(v,k),h(e,E)},p(I,T){T[0]&64&&a!==(a="twa twa-"+I[5]+" svelte-1yjl60b")&&f(r,"class",a),T[0]&64&&g!==(g=I[38]+"")&&Te(d,g),T[0]&64&&w!==(w=I[38])&&(_.__value=w,_.value=_.__value)},d(I){I&&u(e)}}}function ql(l){let e,t;return{c(){e=m("div"),t=F("No effectors defined."),this.h()},l(o){e=b(o,"DIV",{class:!0});var n=p(e);t=H(n,"No effectors defined."),n.forEach(u),this.h()},h(){f(e,"class","rounded-md p-1")},m(o,n){A(o,e,n),h(e,t)},p:Ie,d(o){o&&u(e)}}}function yl(l){let e,t,o,n,s,r;function a(){return l[28](l[7])}return{c(){e=m("button"),t=m("i"),n=q(),this.h()},l(i){e=b(i,"BUTTON",{class:!0});var c=p(e);t=b(c,"I",{class:!0}),p(t).forEach(u),n=y(c),c.forEach(u),this.h()},h(){f(t,"class",o="twa twa-"+l[5]+" svelte-1yjl60b"),f(e,"class","w-fit rounded-md p-1 hover:bg-base-200")},m(i,c){A(i,e,c),h(e,t),h(e,n),s||(r=M(e,"click",a),s=!0)},p(i,c){l=i,c[0]&4096&&o!==(o="twa twa-"+l[5]+" svelte-1yjl60b")&&f(t,"class",o)},d(i){i&&u(e),s=!1,r()}}}function Ml(l){let e,t=l[33]+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[33],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&512&&t!==(t=s[33]+"")&&Te(o,t),r[0]&512&&n!==(n=s[33])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function vo(l){let e,t,o,n,s,r,a,i,c,_,g,d,w,v,k,E,I,T,C,D,V,P,U,G,$,Y,_e,ie,K,R,te,Re,je,X,S,Q,B,ee,Ce=l[1].length+"",De,qe,ye,Qe,Ge,Je,Fe,Ae,ce,Me,gt,We,Se,mt,Ze,Oe,He,Xe,et,Ye,ge,Ne,me,Be,x,be,tt,se=l[9],oe=[];for(let O=0;O<se.length;O+=1)oe[O]=Cl(Ol(l,se,O));let ne=l[9],N=[];for(let O=0;O<ne.length;O+=1)N[O]=Dl(jl(l,ne,O));let W=l[5]&&Sl(l),j=!l[11]&&Pl(),re=l[1],pe=[];for(let O=0;O<re.length;O+=1)pe[O]=Al(wl(l,re,O));let lt=l[6],Ee=[];for(let O=0;O<lt.length;O+=1)Ee[O]=Ul(El(l,lt,O));let ze=l[12],de=[];for(let O=0;O<ze.length;O+=1)de[O]=yl(pl(l,ze,O));let we=null;ze.length||(we=ql());let st=[0,...l[9]],ke=[];for(let O=0;O<st.length;O+=1)ke[O]=Ml(bl(l,st,O));return{c(){e=m("div"),t=m("div"),o=m("button"),n=m("i"),r=q(),a=m("div"),i=m("select"),c=m("option"),_=F("0"),g=q(),d=m("div"),w=F("Devolve"),v=q(),k=m("div"),E=m("button"),I=m("i"),C=q(),D=m("div"),V=m("select");for(let O=0;O<oe.length;O+=1)oe[O].c();P=q(),U=m("div"),G=m("button"),$=m("i"),_e=q(),ie=m("div"),K=m("select");for(let O=0;O<N.length;O+=1)N[O].c();R=q(),te=m("div"),Re=F("Evolve"),je=q(),X=m("main"),S=m("div"),Q=m("div"),B=m("p"),ee=F("SIDE EFFECTS ("),De=F(Ce),qe=F(" / "),ye=F(ft),Qe=F(")"),Ge=q(),W&&W.c(),Je=q(),j&&j.c(),Fe=q(),Ae=m("div"),ce=m("div");for(let O=0;O<pe.length;O+=1)pe[O].c();Me=q();for(let O=0;O<Ee.length;O+=1)Ee[O].c();gt=q(),We=m("div"),Se=m("div"),mt=F("DROPS"),Ze=q(),Oe=m("div"),He=m("div"),Xe=m("label"),et=m("i"),ge=q(),Ne=m("ul");for(let O=0;O<de.length;O+=1)de[O].c();we&&we.c(),me=q(),Be=m("div"),x=m("select");for(let O=0;O<ke.length;O+=1)ke[O].c();this.h()},l(O){e=b(O,"DIV",{class:!0});var J=p(e);t=b(J,"DIV",{class:!0});var z=p(t);o=b(z,"BUTTON",{title:!0,class:!0});var L=p(o);n=b(L,"I",{class:!0}),p(n).forEach(u),L.forEach(u),r=y(z),a=b(z,"DIV",{class:!0});var ue=p(a);i=b(ue,"SELECT",{class:!0,title:!0});var Rt=p(i);c=b(Rt,"OPTION",{});var At=p(c);_=H(At,"0"),At.forEach(u),Rt.forEach(u),ue.forEach(u),g=y(z),d=b(z,"DIV",{class:!0});var bt=p(d);w=H(bt,"Devolve"),bt.forEach(u),z.forEach(u),v=y(J),k=b(J,"DIV",{class:!0});var ot=p(k);E=b(ot,"BUTTON",{title:!0,class:!0});var nt=p(E);I=b(nt,"I",{class:!0}),p(I).forEach(u),nt.forEach(u),C=y(ot),D=b(ot,"DIV",{class:!0});var pt=p(D);V=b(pt,"SELECT",{class:!0,title:!0});var Ut=p(V);for(let fe=0;fe<oe.length;fe+=1)oe[fe].l(Ut);Ut.forEach(u),pt.forEach(u),ot.forEach(u),P=y(J),U=b(J,"DIV",{class:!0});var xe=p(U);G=b(xe,"BUTTON",{title:!0,class:!0});var qt=p(G);$=b(qt,"I",{class:!0}),p($).forEach(u),qt.forEach(u),_e=y(xe),ie=b(xe,"DIV",{class:!0});var Et=p(ie);K=b(Et,"SELECT",{class:!0,title:!0});var ve=p(K);for(let fe=0;fe<N.length;fe+=1)N[fe].l(ve);ve.forEach(u),Et.forEach(u),R=y(xe),te=b(xe,"DIV",{class:!0});var rl=p(te);Re=H(rl,"Evolve"),rl.forEach(u),xe.forEach(u),J.forEach(u),je=y(O),X=b(O,"MAIN",{class:!0});var Ft=p(X);S=b(Ft,"DIV",{class:!0});var St=p(S);Q=b(St,"DIV",{class:!0});var Ht=p(Q);B=b(Ht,"P",{});var Nt=p(B);ee=H(Nt,"SIDE EFFECTS ("),De=H(Nt,Ce),qe=H(Nt," / "),ye=H(Nt,ft),Qe=H(Nt,")"),Nt.forEach(u),Ge=y(Ht),W&&W.l(Ht),Ht.forEach(u),Je=y(St),j&&j.l(St),Fe=y(St),Ae=b(St,"DIV",{class:!0});var al=p(Ae);ce=b(al,"DIV",{class:!0});var Gt=p(ce);for(let fe=0;fe<pe.length;fe+=1)pe[fe].l(Gt);Me=y(Gt);for(let fe=0;fe<Ee.length;fe+=1)Ee[fe].l(Gt);Gt.forEach(u),al.forEach(u),St.forEach(u),gt=y(Ft),We=b(Ft,"DIV",{class:!0});var Wt=p(We);Se=b(Wt,"DIV",{class:!0});var il=p(Se);mt=H(il,"DROPS"),il.forEach(u),Ze=y(Wt),Oe=b(Wt,"DIV",{class:!0});var zt=p(Oe);He=b(zt,"DIV",{class:!0});var Kt=p(He);Xe=b(Kt,"LABEL",{tabindex:!0,class:!0});var cl=p(Xe);et=b(cl,"I",{class:!0}),p(et).forEach(u),cl.forEach(u),ge=y(Kt),Ne=b(Kt,"UL",{tabindex:!0,class:!0});var $t=p(Ne);for(let fe=0;fe<de.length;fe+=1)de[fe].l($t);we&&we.l($t),$t.forEach(u),Kt.forEach(u),me=y(zt),Be=b(zt,"DIV",{class:!0});var ul=p(Be);x=b(ul,"SELECT",{class:!0,title:!0});var fl=p(x);for(let fe=0;fe<ke.length;fe+=1)ke[fe].l(fl);fl.forEach(u),ul.forEach(u),zt.forEach(u),Wt.forEach(u),Ft.forEach(u),this.h()},h(){var O;f(n,"class",s="twa twa-"+l[3].to+" svelte-1yjl60b"),f(o,"title","Devolve Emoji"),f(o,"class","slot-lg"),c.__value=0,c.value=c.__value,i.disabled=!0,f(i,"class","select-bordered select select-sm text-xl"),f(i,"title","HP"),f(a,"class","absolute -bottom-4"),f(d,"class","absolute -bottom-12"),f(t,"class","flex scale-75 flex-col items-center justify-center"),f(I,"class",T="twa twa-"+l[5]+" svelte-1yjl60b"),f(E,"title","Interactable Emoji"),f(E,"class","slot-lg"),f(V,"class","select-bordered select select-sm text-xl"),f(V,"title","HP"),l[0]===void 0&&Ve(()=>l[22].call(V)),f(D,"class","absolute -bottom-4"),f(k,"class","flex flex-col items-center justify-center"),f($,"class",Y="twa twa-"+l[2].to+" svelte-1yjl60b"),f(G,"title","Evolve Emoji"),f(G,"class","slot-lg"),f(K,"class","select-bordered select select-sm text-xl"),f(K,"title","HP"),l[2].at===void 0&&Ve(()=>l[23].call(K)),f(ie,"class","absolute -bottom-4"),f(te,"class","absolute -bottom-12"),f(U,"class","flex scale-75 flex-col items-center justify-center"),f(e,"class","absolute -top-8 flex flex-row items-center justify-center gap-2"),f(Q,"class","divider flex flex-row pb-6"),f(ce,"class","flex w-fit flex-wrap items-start justify-start gap-x-9 gap-y-14"),f(Ae,"class","flex items-center justify-center px-12"),f(S,"class","form-control flex w-full flex-col p-4"),f(Se,"class","divider w-full"),f(et,"class",Ye="twa twa-"+(((O=l[8].get(l[4][0]))==null?void 0:O.emoji)||l[4][0])+" svelte-1yjl60b"),f(Xe,"tabindex","0"),f(Xe,"class","slot-lg m-1"),f(Ne,"tabindex","0"),f(Ne,"class","dropdown-content menu rounded-box w-fit bg-base-100 p-2 shadow"),f(He,"class","dropdown-right dropdown cursor-pointer"),f(x,"class","select-bordered select select-sm text-xl"),f(x,"title","HP"),l[4][1]===void 0&&Ve(()=>l[29].call(x)),f(Be,"class","absolute -bottom-4"),f(Oe,"class","relative flex flex-col items-center justify-center"),f(We,"class","flex w-full flex-col items-center justify-center p-4"),f(X,"class","flex w-full flex-col items-center justify-center gap-4 pt-16")},m(O,J){A(O,e,J),h(e,t),h(t,o),h(o,n),h(t,r),h(t,a),h(a,i),h(i,c),h(c,_),h(t,g),h(t,d),h(d,w),h(e,v),h(e,k),h(k,E),h(E,I),h(k,C),h(k,D),h(D,V);for(let z=0;z<oe.length;z+=1)oe[z]&&oe[z].m(V,null);Z(V,l[0],!0),h(e,P),h(e,U),h(U,G),h(G,$),h(U,_e),h(U,ie),h(ie,K);for(let z=0;z<N.length;z+=1)N[z]&&N[z].m(K,null);Z(K,l[2].at,!0),h(U,R),h(U,te),h(te,Re),A(O,je,J),A(O,X,J),h(X,S),h(S,Q),h(Q,B),h(B,ee),h(B,De),h(B,qe),h(B,ye),h(B,Qe),h(Q,Ge),W&&W.m(Q,null),h(S,Je),j&&j.m(S,null),h(S,Fe),h(S,Ae),h(Ae,ce);for(let z=0;z<pe.length;z+=1)pe[z]&&pe[z].m(ce,null);h(ce,Me);for(let z=0;z<Ee.length;z+=1)Ee[z]&&Ee[z].m(ce,null);h(X,gt),h(X,We),h(We,Se),h(Se,mt),h(We,Ze),h(We,Oe),h(Oe,He),h(He,Xe),h(Xe,et),h(He,ge),h(He,Ne);for(let z=0;z<de.length;z+=1)de[z]&&de[z].m(Ne,null);we&&we.m(Ne,null),h(Oe,me),h(Oe,Be),h(Be,x);for(let z=0;z<ke.length;z+=1)ke[z]&&ke[z].m(x,null);Z(x,l[4][1],!0),be||(tt=[M(o,"click",l[19]),M(E,"click",l[17]),M(V,"change",l[22]),M(V,"change",l[14]),M(G,"click",l[18]),M(K,"change",l[23]),M(K,"change",l[14]),ll(l[20].call(null,U)),M(x,"change",l[29]),M(x,"change",l[14])],be=!0)},p(O,J){var z;if(J[0]&8&&s!==(s="twa twa-"+O[3].to+" svelte-1yjl60b")&&f(n,"class",s),J[0]&32&&T!==(T="twa twa-"+O[5]+" svelte-1yjl60b")&&f(I,"class",T),J[0]&512){se=O[9];let L;for(L=0;L<se.length;L+=1){const ue=Ol(O,se,L);oe[L]?oe[L].p(ue,J):(oe[L]=Cl(ue),oe[L].c(),oe[L].m(V,null))}for(;L<oe.length;L+=1)oe[L].d(1);oe.length=se.length}if(J[0]&513&&Z(V,O[0]),J[0]&516&&Y!==(Y="twa twa-"+O[2].to+" svelte-1yjl60b")&&f($,"class",Y),J[0]&512){ne=O[9];let L;for(L=0;L<ne.length;L+=1){const ue=jl(O,ne,L);N[L]?N[L].p(ue,J):(N[L]=Dl(ue),N[L].c(),N[L].m(K,null))}for(;L<N.length;L+=1)N[L].d(1);N.length=ne.length}if(J[0]&516&&Z(K,O[2].at),J[0]&2&&Ce!==(Ce=O[1].length+"")&&Te(De,Ce),O[5]?W?W.p(O,J):(W=Sl(O),W.c(),W.m(Q,null)):W&&(W.d(1),W=null),O[11]?j&&(j.d(1),j=null):j||(j=Pl(),j.c(),j.m(S,Fe)),J[0]&91394){re=O[1];let L;for(L=0;L<re.length;L+=1){const ue=wl(O,re,L);pe[L]?pe[L].p(ue,J):(pe[L]=Al(ue),pe[L].c(),pe[L].m(ce,Me))}for(;L<pe.length;L+=1)pe[L].d(1);pe.length=re.length}if(J[0]&64){lt=O[6];let L;for(L=0;L<lt.length;L+=1){const ue=El(O,lt,L);Ee[L]?Ee[L].p(ue,J):(Ee[L]=Ul(ue),Ee[L].c(),Ee[L].m(ce,null))}for(;L<Ee.length;L+=1)Ee[L].d(1);Ee.length=lt.length}if(J[0]&784&&Ye!==(Ye="twa twa-"+(((z=O[8].get(O[4][0]))==null?void 0:z.emoji)||O[4][0])+" svelte-1yjl60b")&&f(et,"class",Ye),J[0]&20496){ze=O[12];let L;for(L=0;L<ze.length;L+=1){const ue=pl(O,ze,L);de[L]?de[L].p(ue,J):(de[L]=yl(ue),de[L].c(),de[L].m(Ne,null))}for(;L<de.length;L+=1)de[L].d(1);de.length=ze.length,!ze.length&&we?we.p(O,J):ze.length?we&&(we.d(1),we=null):(we=ql(),we.c(),we.m(Ne,null))}if(J[0]&512){st=[0,...O[9]];let L;for(L=0;L<st.length;L+=1){const ue=bl(O,st,L);ke[L]?ke[L].p(ue,J):(ke[L]=Ml(ue),ke[L].c(),ke[L].m(x,null))}for(;L<ke.length;L+=1)ke[L].d(1);ke.length=st.length}J[0]&528&&Z(x,O[4][1])},i:Ie,o:Ie,d(O){O&&u(e),le(oe,O),le(N,O),O&&u(je),O&&u(X),W&&W.d(),j&&j.d(),le(pe,O),le(Ee,O),le(de,O),we&&we.d(),le(ke,O),be=!1,Le(tt)}}}function go(l,e,t){let o,n,s,r,a;ae(l,rt,S=>t(8,n=S)),ae(l,ct,S=>t(31,s=S)),ae(l,ut,S=>t(32,r=S)),ae(l,Pt,S=>t(13,a=S));let i=[],c=[];for(let S=0;S<100;S++)i[S]=S+1,c[S]=S+1;c.unshift("trigger"),c.unshift("talk");for(let S=0;S>=-100;S--)c.unshift(S);let{id:_}=e,{emoji:g=""}=e,{sequenceID:d="-1"}=e,{hp:w=1}=e,{sideEffects:v=[["any","talk","none"]]}=e,{pseudoSideEffects:k=[]}=e,{evolve:E=new Zt("",2)}=e,{devolve:I=new xt("")}=e,{drops:T=["-1",1]}=e;Vt(()=>{let S=r.get(_);S&&t(5,{emoji:g,sequenceID:d,hp:w,sideEffects:v,evolve:E,devolve:I,drops:T}=S,g,t(21,d),t(0,w),t(1,v),(t(2,E),t(0,w)),t(3,I),t(4,T))});function C(){ut.update(_,new Os(g,d,w,v,E,I,T))}Mt(()=>{C()});function D(S,Q){if(!v.some(([B,ee])=>B===S)){if(v.length===ft){Ue.warning(`Cannot have more than ${ft} side effects`);return}v.push([S,0,Q]),t(1,v),C()}}function V(S){v.splice(S,1),t(1,v),C()}function P(){if(s!=""&&[E.to,I.to].includes(s)){Ue.warning("An interactable cannot evolve or devolve to itself");return}ol(_,ut,"interactable")||nl()||(t(5,g=s),C())}function U(){if(g===s){Ue.warning("An interactable cannot evolve to itself");return}t(2,E.to=s,E),C()}function G(){if(g===s){Ue.warning("An interactable cannot devolve to itself");return}t(3,I.to=s,I),C()}function $(S){E.at<w&&t(2,E.at=w+1,E)}let Y=!0;function _e(){w=Pe(this),t(0,w),t(9,i)}function ie(){E.at=Pe(this),t(2,E),t(0,w),t(9,i)}const K=S=>D(S,"none");function R(S,Q){S[Q][2]=Pe(this),t(1,v)}const te=S=>V(S);function Re(S,Q){S[Q][1]=Pe(this),t(1,v)}const je=S=>{t(4,T[0]=S,T),C()};function X(){T[1]=Pe(this),t(4,T),t(9,i)}return l.$$set=S=>{"id"in S&&t(7,_=S.id),"emoji"in S&&t(5,g=S.emoji),"sequenceID"in S&&t(21,d=S.sequenceID),"hp"in S&&t(0,w=S.hp),"sideEffects"in S&&t(1,v=S.sideEffects),"pseudoSideEffects"in S&&t(6,k=S.pseudoSideEffects),"evolve"in S&&t(2,E=S.evolve),"devolve"in S&&t(3,I=S.devolve),"drops"in S&&t(4,T=S.drops)},l.$$.update=()=>{l.$$.dirty[0]&2&&t(11,Y=v.some(S=>S[1]!=0)),l.$$.dirty[0]&256&&t(12,o=[...n].filter(([S,Q])=>Q.emoji!="")),l.$$.dirty[0]&5&&t(2,E.at=w>E.at?w+1:E.at,E)},[w,v,E,I,T,g,k,_,n,i,c,Y,o,a,C,D,V,P,U,G,$,d,_e,ie,K,R,te,Re,je,X]}class mo extends _t{constructor(e){super(),dt(this,e,go,vo,vt,{id:7,emoji:5,sequenceID:21,hp:0,sideEffects:1,pseudoSideEffects:6,evolve:2,devolve:3,drops:4},null,[-1,-1])}}function bo(l){let e,t,o,n,s,r,a,i,c,_,g,d;return{c(){e=m("div"),t=m("button"),o=m("i"),s=q(),r=m("i"),a=q(),i=m("button"),c=m("i"),this.h()},l(w){e=b(w,"DIV",{class:!0});var v=p(e);t=b(v,"BUTTON",{class:!0});var k=p(t);o=b(k,"I",{class:!0}),p(o).forEach(u),k.forEach(u),s=y(v),r=b(v,"I",{class:!0}),p(r).forEach(u),a=y(v),i=b(v,"BUTTON",{class:!0});var E=p(i);c=b(E,"I",{class:!0}),p(c).forEach(u),E.forEach(u),v.forEach(u),this.h()},h(){f(o,"class",n="twa twa-"+l[0][0]),f(t,"class","slot"),f(r,"class","twa twa-dashing-away text-2xl"),f(c,"class",_="twa twa-"+l[0][1]),f(i,"class","slot"),f(e,"class","flex h-full flex-row items-center justify-center gap-2")},m(w,v){A(w,e,v),h(e,t),h(t,o),h(e,s),h(e,r),h(e,a),h(e,i),h(i,c),g||(d=[M(t,"click",l[3]),M(i,"click",l[4])],g=!0)},p(w,[v]){v&1&&n!==(n="twa twa-"+w[0][0])&&f(o,"class",n),v&1&&_!==(_="twa twa-"+w[0][1])&&f(c,"class",_)},i:Ie,o:Ie,d(w){w&&u(e),g=!1,Le(d)}}}function po(l,e,t){let o,n;ae(l,ct,g=>t(5,o=g)),ae(l,Bt,g=>t(6,n=g));let{id:s}=e,{slots:r=["","","push"]}=e;Vt(()=>{t(0,r=n.get(s)||r)});function a(){for(let[g,d]of n.entries())if(s!==g&&d[0]===r[0]&&d[1]===r[1]){t(0,r=["","","push"]),Ue.warning("Can't have duplicate pushers.");break}Bt.update(s,r)}function i(g){t(0,r[g]=o,r),r.includes("")||a()}Mt(()=>{r.includes("")&&(Bt.remove(s),ht.remove(s))});const c=()=>i(0),_=()=>i(1);return l.$$set=g=>{"id"in g&&t(2,s=g.id),"slots"in g&&t(0,r=g.slots)},[r,i,s,c,_]}class Eo extends _t{constructor(e){super(),dt(this,e,po,bo,vt,{id:2,slots:0})}}function wo(l){let e,t,o,n,s,r,a,i,c,_,g,d,w,v,k,E,I,T,C,D;return{c(){e=m("div"),t=m("button"),o=m("i"),s=q(),r=m("div"),a=F("+"),i=q(),c=m("button"),_=m("i"),d=q(),w=m("div"),v=F("="),k=q(),E=m("button"),I=m("i"),this.h()},l(V){e=b(V,"DIV",{class:!0});var P=p(e);t=b(P,"BUTTON",{class:!0});var U=p(t);o=b(U,"I",{class:!0}),p(o).forEach(u),U.forEach(u),s=y(P),r=b(P,"DIV",{class:!0});var G=p(r);a=H(G,"+"),G.forEach(u),i=y(P),c=b(P,"BUTTON",{class:!0});var $=p(c);_=b($,"I",{class:!0}),p(_).forEach(u),$.forEach(u),d=y(P),w=b(P,"DIV",{class:!0});var Y=p(w);v=H(Y,"="),Y.forEach(u),k=y(P),E=b(P,"BUTTON",{class:!0});var _e=p(E);I=b(_e,"I",{class:!0}),p(I).forEach(u),_e.forEach(u),P.forEach(u),this.h()},h(){f(o,"class",n="twa twa-"+l[0][0]),f(t,"class","slot"),f(r,"class","text-2xl"),f(_,"class",g="twa twa-"+l[0][1]),f(c,"class","slot"),f(w,"class","text-2xl"),f(I,"class",T="twa twa-"+l[0][2]),f(E,"class","slot"),f(e,"class","flex h-full flex-row items-center justify-center gap-2")},m(V,P){A(V,e,P),h(e,t),h(t,o),h(e,s),h(e,r),h(r,a),h(e,i),h(e,c),h(c,_),h(e,d),h(e,w),h(w,v),h(e,k),h(e,E),h(E,I),C||(D=[M(t,"click",l[3]),M(c,"click",l[4]),M(E,"click",l[5])],C=!0)},p(V,[P]){P&1&&n!==(n="twa twa-"+V[0][0])&&f(o,"class",n),P&1&&g!==(g="twa twa-"+V[0][1])&&f(_,"class",g),P&1&&T!==(T="twa twa-"+V[0][2])&&f(I,"class",T)},i:Ie,o:Ie,d(V){V&&u(e),C=!1,Le(D)}}}function ko(l,e,t){let o,n,s;ae(l,ct,w=>t(6,o=w)),ae(l,yt,w=>t(7,n=w)),ae(l,Bt,w=>t(8,s=w));let{id:r}=e,{slots:a=["","",""]}=e;Vt(()=>{t(0,a=n.get(r)||a)});function i(){for(let[w,v]of s.entries())if(v[0]===a[0]&&v[1]===a[1]){t(0,a=["","",""]),Ue.warning("Cannot have conflicting behaviours.");break}for(let[w,v]of n.entries()){if(r===w)continue;let k=[v[0],v[1]],E=[a[0],a[1]];if(k.toString()===E.toString()||k.reverse().toString()===E.toString()){t(0,a=["","",""]),Ue.warning("mergers are bidirectional and can only have one outcome");break}}yt.update(r,a)}function c(w){if(t(0,a[w]=o,a),!a.includes("")){if(a[0]===a[2]||a[1]===a[2]){t(0,a=["","",""]),Ue.warning("Inputs cannot be the same with output");return}i()}}Mt(()=>{a.includes("")&&(yt.remove(r),ht.remove(r))});const _=()=>c(0),g=()=>c(1),d=()=>c(2);return l.$$set=w=>{"id"in w&&t(2,r=w.id),"slots"in w&&t(0,a=w.slots)},[a,c,r,_,g,d]}class Io extends _t{constructor(e){super(),dt(this,e,ko,wo,vt,{id:2,slots:0})}}function Fl(l,e,t){const o=l.slice();return o[15]=e[t],o}function Hl(l){let e,t=l[15]+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[15],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r&8&&t!==(t=s[15]+"")&&Te(o,t),r&8&&n!==(n=s[15])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function To(l){let e,t,o,n,s,r,a,i,c,_,g,d,w,v,k,E,I,T,C,D,V,P,U,G,$,Y,_e,ie,K,R,te,Re,je=l[3],X=[];for(let S=0;S<je.length;S+=1)X[S]=Hl(Fl(l,je,S));return R=Cs(l[10][0]),{c(){e=m("div"),t=m("div"),o=m("button"),n=m("i"),r=q(),a=m("div"),i=m("select");for(let S=0;S<X.length;S+=1)X[S].c();c=q(),_=m("div"),g=m("label"),d=m("input"),w=q(),v=m("span"),k=m("i"),E=q(),I=m("label"),T=m("input"),C=q(),D=m("span"),V=m("i"),P=q(),U=m("label"),G=m("input"),$=q(),Y=m("span"),_e=m("i"),ie=F(`\r
				&\r
				`),K=m("i"),this.h()},l(S){e=b(S,"DIV",{class:!0});var Q=p(e);t=b(Q,"DIV",{class:!0});var B=p(t);o=b(B,"BUTTON",{class:!0});var ee=p(o);n=b(ee,"I",{class:!0}),p(n).forEach(u),ee.forEach(u),r=y(B),a=b(B,"DIV",{class:!0});var Ce=p(a);i=b(Ce,"SELECT",{class:!0,title:!0});var De=p(i);for(let ce=0;ce<X.length;ce+=1)X[ce].l(De);De.forEach(u),Ce.forEach(u),B.forEach(u),c=y(Q),_=b(Q,"DIV",{class:!0});var qe=p(_);g=b(qe,"LABEL",{class:!0,title:!0});var ye=p(g);d=b(ye,"INPUT",{class:!0,name:!0,type:!0}),w=y(ye),v=b(ye,"SPAN",{class:!0});var Qe=p(v);k=b(Qe,"I",{class:!0}),p(k).forEach(u),Qe.forEach(u),ye.forEach(u),E=y(qe),I=b(qe,"LABEL",{class:!0,title:!0});var Ge=p(I);T=b(Ge,"INPUT",{class:!0,name:!0,type:!0}),C=y(Ge),D=b(Ge,"SPAN",{class:!0});var Je=p(D);V=b(Je,"I",{class:!0}),p(V).forEach(u),Je.forEach(u),Ge.forEach(u),P=y(qe),U=b(qe,"LABEL",{class:!0,title:!0});var Fe=p(U);G=b(Fe,"INPUT",{class:!0,name:!0,type:!0}),$=y(Fe),Y=b(Fe,"SPAN",{class:!0});var Ae=p(Y);_e=b(Ae,"I",{class:!0}),p(_e).forEach(u),ie=H(Ae,`\r
				&\r
				`),K=b(Ae,"I",{class:!0}),p(K).forEach(u),Ae.forEach(u),Fe.forEach(u),qe.forEach(u),Q.forEach(u),this.h()},h(){f(n,"class",s="twa twa-"+l[1]),f(o,"class","slot-lg"),f(i,"class","select-bordered select select-sm text-xl"),f(i,"title","sideEffect"),l[2]===void 0&&Ve(()=>l[8].call(i)),f(a,"class","absolute -bottom-4"),f(t,"class","relative flex flex-col items-center justify-center"),f(d,"class","radio checked:bg-purple-500"),f(d,"name","type"),d.__value="collideable",d.value=d.__value,f(d,"type","radio"),f(k,"class","twa twa-collision"),f(v,"class","label-text pl-4 text-lg"),f(g,"class","label cursor-pointer"),f(g,"title","Collideable"),f(T,"class","radio checked:bg-purple-500"),f(T,"name","type"),T.__value="equippable",T.value=T.__value,f(T,"type","radio"),f(V,"class","twa twa-gloves"),f(D,"class","label-text pl-4 text-lg"),f(I,"class","label cursor-pointer"),f(I,"title","Equippable"),f(G,"class","radio checked:bg-purple-500"),f(G,"name","type"),G.__value="both",G.value=G.__value,f(G,"type","radio"),f(_e,"class","twa twa-collision"),f(K,"class","twa twa-gloves"),f(Y,"class","label-text pl-4 text-lg"),f(U,"class","label cursor-pointer"),f(U,"title","Collideable & Equippable"),f(_,"class","flex flex-col items-start pt-8"),f(e,"class","absolute -top-8 flex flex-col items-center justify-center gap-2"),R.p(d,T,G)},m(S,Q){A(S,e,Q),h(e,t),h(t,o),h(o,n),h(t,r),h(t,a),h(a,i);for(let B=0;B<X.length;B+=1)X[B]&&X[B].m(i,null);Z(i,l[2],!0),h(e,c),h(e,_),h(_,g),h(g,d),d.checked=d.__value===l[0],h(g,w),h(g,v),h(v,k),h(_,E),h(_,I),h(I,T),T.checked=T.__value===l[0],h(I,C),h(I,D),h(D,V),h(_,P),h(_,U),h(U,G),G.checked=G.__value===l[0],h(U,$),h(U,Y),h(Y,_e),h(Y,ie),h(Y,K),te||(Re=[M(o,"click",l[5]),M(i,"change",l[8]),M(i,"change",l[4]),M(d,"change",l[9]),M(T,"change",l[11]),M(G,"change",l[12])],te=!0)},p(S,[Q]){if(Q&2&&s!==(s="twa twa-"+S[1])&&f(n,"class",s),Q&8){je=S[3];let B;for(B=0;B<je.length;B+=1){const ee=Fl(S,je,B);X[B]?X[B].p(ee,Q):(X[B]=Hl(ee),X[B].c(),X[B].m(i,null))}for(;B<X.length;B+=1)X[B].d(1);X.length=je.length}Q&12&&Z(i,S[2]),Q&1&&(d.checked=d.__value===S[0]),Q&1&&(T.checked=T.__value===S[0]),Q&1&&(G.checked=G.__value===S[0])},i:Ie,o:Ie,d(S){S&&u(e),le(X,S),R.r(),te=!1,Le(Re)}}}function jo(l,e,t){let o,n;ae(l,ct,T=>t(13,o=T)),ae(l,rt,T=>t(14,n=T));let{id:s}=e,{emoji:r=""}=e,{hp:a=1}=e,{type:i="equippable"}=e,c=["Infinite"];for(let T=1;T<=100;T++)c[T]=T;let _=!1;Vt(()=>{let T=n.get(s);T&&t(1,{emoji:r,hp:a,type:i}=T,r,t(2,a),t(0,i)),t(7,_=!0)}),Mt(()=>{if(r===""){rt.remove(s);return}});function g(){rt.update(s,new Ts(r,a,i))}function d(){ol(s,rt,"effector")||nl()||(t(1,r=o),g())}const w=[[]];function v(){a=Pe(this),t(2,a),t(3,c)}function k(){i=this.__value,t(0,i)}function E(){i=this.__value,t(0,i)}function I(){i=this.__value,t(0,i)}return l.$$set=T=>{"id"in T&&t(6,s=T.id),"emoji"in T&&t(1,r=T.emoji),"hp"in T&&t(2,a=T.hp),"type"in T&&t(0,i=T.type)},l.$$.update=()=>{l.$$.dirty&129&&_&&i&&g()},[i,r,a,c,g,d,s,_,v,k,w,E,I]}class Oo extends _t{constructor(e){super(),dt(this,e,jo,To,vt,{id:6,emoji:1,hp:2,type:0})}}function Gl(l,e,t){const o=l.slice();return o[4]=e[t][0],o[28]=e[t][1],o}function Wl(l,e,t){var s;const o=l.slice();o[31]=e[t][0],o[28]=e[t][1],o[33]=e,o[34]=t;const n=(s=o[7].get(o[31]))==null?void 0:s.emoji;return o[32]=n,o}function zl(l,e,t){const o=l.slice();return o[35]=e[t],o}function Kl(l,e,t){const o=l.slice();return o[35]=e[t],o}function Ql(l,e,t){const o=l.slice();return o[6]=e[t][0],o[4]=e[t][1].emoji,o}function Xl(l,e,t){const o=l.slice();return o[42]=e[t],o}function Yl(l,e,t){const o=l.slice();return o[42]=e[t],o}function Jl(l){let e,t=l[42]+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[42],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&256&&t!==(t=s[42]+"")&&Te(o,t),r[0]&256&&n!==(n=s[42])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function Zl(l){let e,t=l[42]+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[42],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&256&&t!==(t=s[42]+"")&&Te(o,t),r[0]&256&&n!==(n=s[42])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function xl(l){let e,t;return{c(){e=m("div"),t=F("No equippables defined."),this.h()},l(o){e=b(o,"DIV",{class:!0});var n=p(e);t=H(n,"No equippables defined."),n.forEach(u),this.h()},h(){f(e,"class","rounded-md p-1")},m(o,n){A(o,e,n),h(e,t)},p:Ie,d(o){o&&u(e)}}}function $l(l){let e,t,o,n,s,r;function a(){return l[21](l[6])}return{c(){e=m("button"),t=m("i"),n=q(),this.h()},l(i){e=b(i,"BUTTON",{class:!0});var c=p(e);t=b(c,"I",{class:!0}),p(t).forEach(u),n=y(c),c.forEach(u),this.h()},h(){f(t,"class",o="twa twa-"+l[4]),f(e,"class","rounded-md p-1 hover:bg-base-200")},m(i,c){A(i,e,c),h(e,t),h(e,n),s||(r=M(e,"click",a),s=!0)},p(i,c){l=i,c[0]&1024&&o!==(o="twa twa-"+l[4])&&f(t,"class",o)},d(i){i&&u(e),s=!1,r()}}}function Co(l){let e,t,o;return{c(){e=m("div")},l(n){e=b(n,"DIV",{}),p(e).forEach(u)},m(n,s){A(n,e,s),t||(o=ll(l[13].call(null,e,l[34])),t=!0)},p(n,s){l=n},d(n){n&&u(e),t=!1,o()}}}function Do(l){let e,t,o,n,s,r,a,i,c,_;function g(){return l[23](l[34])}let d=l[9],w=[];for(let k=0;k<d.length;k+=1)w[k]=es(zl(l,d,k));function v(){l[24].call(i,l[33],l[34])}return{c(){e=m("button"),t=F(Ke),o=q(),n=m("div"),s=m("i"),a=q(),i=m("select");for(let k=0;k<w.length;k+=1)w[k].c();this.h()},l(k){e=b(k,"BUTTON",{class:!0});var E=p(e);t=H(E,Ke),E.forEach(u),o=y(k),n=b(k,"DIV",{class:!0});var I=p(n);s=b(I,"I",{class:!0}),p(s).forEach(u),I.forEach(u),a=y(k),i=b(k,"SELECT",{class:!0});var T=p(i);for(let C=0;C<w.length;C+=1)w[C].l(T);T.forEach(u),this.h()},h(){f(e,"class","absolute -right-2 -top-2 text-lg"),f(s,"class",r="twa twa-"+l[32]),f(n,"class","slot-lg scale-75"),f(i,"class","select-bordered select select-sm absolute -bottom-4"),l[28]===void 0&&Ve(v)},m(k,E){A(k,e,E),h(e,t),A(k,o,E),A(k,n,E),h(n,s),A(k,a,E),A(k,i,E);for(let I=0;I<w.length;I+=1)w[I]&&w[I].m(i,null);Z(i,l[28],!0),c||(_=[M(e,"click",g),M(i,"change",v),M(i,"change",l[11])],c=!0)},p(k,E){if(l=k,E[0]&644&&r!==(r="twa twa-"+l[32])&&f(s,"class",r),E[0]&512){d=l[9];let I;for(I=0;I<d.length;I+=1){const T=zl(l,d,I);w[I]?w[I].p(T,E):(w[I]=es(T),w[I].c(),w[I].m(i,null))}for(;I<w.length;I+=1)w[I].d(1);w.length=d.length}E[0]&516&&Z(i,l[28])},d(k){k&&u(e),k&&u(o),k&&u(n),k&&u(a),k&&u(i),le(w,k),c=!1,Le(_)}}}function So(l){let e,t=l[31]+"",o,n,s,r,a,i=l[9],c=[];for(let g=0;g<i.length;g+=1)c[g]=ts(Kl(l,i,g));function _(){l[22].call(s,l[33],l[34])}return{c(){e=m("div"),o=F(t),n=q(),s=m("select");for(let g=0;g<c.length;g+=1)c[g].c();this.h()},l(g){e=b(g,"DIV",{class:!0});var d=p(e);o=H(d,t),d.forEach(u),n=y(g),s=b(g,"SELECT",{class:!0});var w=p(s);for(let v=0;v<c.length;v+=1)c[v].l(w);w.forEach(u),this.h()},h(){f(e,"class","slot-lg scale-75"),f(s,"class","select-bordered select select-sm absolute -bottom-4"),l[28]===void 0&&Ve(_)},m(g,d){A(g,e,d),h(e,o),A(g,n,d),A(g,s,d);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(s,null);Z(s,l[28],!0),r||(a=[M(s,"change",_),M(s,"change",l[11])],r=!0)},p(g,d){if(l=g,d[0]&4&&t!==(t=l[31]+"")&&Te(o,t),d[0]&512){i=l[9];let w;for(w=0;w<i.length;w+=1){const v=Kl(l,i,w);c[w]?c[w].p(v,d):(c[w]=ts(v),c[w].c(),c[w].m(s,null))}for(;w<c.length;w+=1)c[w].d(1);c.length=i.length}d[0]&516&&Z(s,l[28])},d(g){g&&u(e),g&&u(n),g&&u(s),le(c,g),r=!1,Le(a)}}}function es(l){let e,t=(l[35]>0?`+${l[35]}`:l[35])+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[35],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&512&&t!==(t=(s[35]>0?`+${s[35]}`:s[35])+"")&&Te(o,t),r[0]&512&&n!==(n=s[35])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function ts(l){let e,t=(l[35]>0?`+${l[35]}`:l[35])+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[35],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&512&&t!==(t=(s[35]>0?`+${s[35]}`:s[35])+"")&&Te(o,t),r[0]&512&&n!==(n=s[35])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function ls(l){let e;function t(s,r){return s[31]==="any"?So:s[32]?Do:Co}let o=t(l),n=o(l);return{c(){e=m("div"),n.c(),this.h()},l(s){e=b(s,"DIV",{class:!0});var r=p(e);n.l(r),r.forEach(u),this.h()},h(){f(e,"class","relative flex flex-col items-center")},m(s,r){A(s,e,r),n.m(e,null)},p(s,r){o===(o=t(s))&&n?n.p(s,r):(n.d(1),n=o(s),n&&(n.c(),n.m(e,null)))},d(s){s&&u(e),n.d()}}}function ss(l){let e,t,o,n,s,r,a,i,c,_,g=l[28]+"",d,w,v,k,E;return{c(){e=m("div"),t=m("button"),o=F(Ke),n=q(),s=m("div"),r=m("i"),i=q(),c=m("select"),_=m("option"),d=F(g),v=m("option"),k=F("+100"),E=q(),this.h()},l(I){e=b(I,"DIV",{class:!0});var T=p(e);t=b(T,"BUTTON",{class:!0});var C=p(t);o=H(C,Ke),C.forEach(u),n=y(T),s=b(T,"DIV",{class:!0});var D=p(s);r=b(D,"I",{class:!0}),p(r).forEach(u),D.forEach(u),i=y(T),c=b(T,"SELECT",{class:!0});var V=p(c);_=b(V,"OPTION",{});var P=p(_);d=H(P,g),P.forEach(u),v=b(V,"OPTION",{});var U=p(v);k=H(U,"+100"),U.forEach(u),V.forEach(u),E=y(T),T.forEach(u),this.h()},h(){f(t,"class","absolute -right-2 -top-2 text-lg"),f(r,"class",a="twa twa-"+l[4]),f(s,"class","slot-lg scale-75"),_.selected=!0,_.__value=w=l[28],_.value=_.__value,v.__value="+100",v.value=v.__value,f(c,"class","select-bordered select select-sm absolute -bottom-4"),f(e,"class","relative flex flex-col items-center")},m(I,T){A(I,e,T),h(e,t),h(t,o),h(e,n),h(e,s),h(s,r),h(e,i),h(e,c),h(c,_),h(_,d),h(c,v),h(v,k),h(e,E)},p(I,T){T[0]&32&&a!==(a="twa twa-"+I[4])&&f(r,"class",a),T[0]&32&&g!==(g=I[28]+"")&&Te(d,g),T[0]&32&&w!==(w=I[28])&&(_.__value=w,_.value=_.__value)},d(I){I&&u(e)}}}function No(l){let e,t,o,n,s,r,a,i,c,_,g,d,w,v,k,E,I,T,C,D,V,P,U,G,$,Y,_e,ie,K,R,te="101",Re,je,X,S,Q,B,ee,Ce,De,qe,ye=l[2].length+"",Qe,Ge,Je,Fe,Ae,ce,Me,gt,We,Se,mt,Ze,Oe,He,Xe,et,Ye=l[8],ge=[];for(let N=0;N<Ye.length;N+=1)ge[N]=Jl(Yl(l,Ye,N));let Ne=l[8],me=[];for(let N=0;N<Ne.length;N+=1)me[N]=Zl(Xl(l,Ne,N));let Be=l[10],x=[];for(let N=0;N<Be.length;N+=1)x[N]=$l(Ql(l,Be,N));let be=null;Be.length||(be=xl());let tt=l[2],se=[];for(let N=0;N<tt.length;N+=1)se[N]=ls(Wl(l,tt,N));let oe=l[5],ne=[];for(let N=0;N<oe.length;N+=1)ne[N]=ss(Gl(l,oe,N));return{c(){e=m("div"),t=m("div"),o=m("button"),n=m("i"),r=q(),a=m("div"),i=m("select"),c=m("option"),_=F("0"),g=q(),d=m("div"),w=F("Devolve"),v=q(),k=m("div"),E=m("button"),I=m("i"),C=q(),D=m("div"),V=m("select");for(let N=0;N<ge.length;N+=1)ge[N].c();P=q(),U=m("div"),G=m("button"),$=m("i"),_e=q(),ie=m("div"),K=m("select");for(let N=0;N<me.length;N+=1)me[N].c();R=m("option"),Re=F(te),je=q(),X=m("div"),S=F("Evolve"),Q=q(),B=m("main"),ee=m("div"),Ce=m("div"),De=m("p"),qe=F("SIDE EFFECTS ("),Qe=F(ye),Ge=F(" / "),Je=F(ft),Fe=F(")"),Ae=q(),ce=m("div"),Me=m("label"),gt=F("+"),We=q(),Se=m("ul");for(let N=0;N<x.length;N+=1)x[N].c();be&&be.c(),mt=q(),Ze=m("div"),Oe=m("div");for(let N=0;N<se.length;N+=1)se[N].c();He=q();for(let N=0;N<ne.length;N+=1)ne[N].c();this.h()},l(N){e=b(N,"DIV",{class:!0});var W=p(e);t=b(W,"DIV",{class:!0});var j=p(t);o=b(j,"BUTTON",{title:!0,class:!0});var re=p(o);n=b(re,"I",{class:!0}),p(n).forEach(u),re.forEach(u),r=y(j),a=b(j,"DIV",{class:!0});var pe=p(a);i=b(pe,"SELECT",{class:!0,title:!0});var lt=p(i);c=b(lt,"OPTION",{});var Ee=p(c);_=H(Ee,"0"),Ee.forEach(u),lt.forEach(u),pe.forEach(u),g=y(j),d=b(j,"DIV",{class:!0});var ze=p(d);w=H(ze,"Devolve"),ze.forEach(u),j.forEach(u),v=y(W),k=b(W,"DIV",{class:!0});var de=p(k);E=b(de,"BUTTON",{title:!0,class:!0});var we=p(E);I=b(we,"I",{class:!0}),p(I).forEach(u),we.forEach(u),C=y(de),D=b(de,"DIV",{class:!0});var st=p(D);V=b(st,"SELECT",{class:!0,title:!0});var ke=p(V);for(let ve=0;ve<ge.length;ve+=1)ge[ve].l(ke);ke.forEach(u),st.forEach(u),de.forEach(u),P=y(W),U=b(W,"DIV",{class:!0});var O=p(U);G=b(O,"BUTTON",{title:!0,class:!0});var J=p(G);$=b(J,"I",{class:!0}),p($).forEach(u),J.forEach(u),_e=y(O),ie=b(O,"DIV",{class:!0});var z=p(ie);K=b(z,"SELECT",{class:!0,title:!0});var L=p(K);for(let ve=0;ve<me.length;ve+=1)me[ve].l(L);R=b(L,"OPTION",{});var ue=p(R);Re=H(ue,te),ue.forEach(u),L.forEach(u),z.forEach(u),je=y(O),X=b(O,"DIV",{class:!0});var Rt=p(X);S=H(Rt,"Evolve"),Rt.forEach(u),O.forEach(u),W.forEach(u),Q=y(N),B=b(N,"MAIN",{class:!0});var At=p(B);ee=b(At,"DIV",{class:!0});var bt=p(ee);Ce=b(bt,"DIV",{class:!0});var ot=p(Ce);De=b(ot,"P",{});var nt=p(De);qe=H(nt,"SIDE EFFECTS ("),Qe=H(nt,ye),Ge=H(nt," / "),Je=H(nt,ft),Fe=H(nt,")"),nt.forEach(u),Ae=y(ot),ce=b(ot,"DIV",{class:!0});var pt=p(ce);Me=b(pt,"LABEL",{for:!0,tabindex:!0,class:!0});var Ut=p(Me);gt=H(Ut,"+"),Ut.forEach(u),We=y(pt),Se=b(pt,"UL",{tabindex:!0,class:!0});var xe=p(Se);for(let ve=0;ve<x.length;ve+=1)x[ve].l(xe);be&&be.l(xe),xe.forEach(u),pt.forEach(u),ot.forEach(u),mt=y(bt),Ze=b(bt,"DIV",{class:!0});var qt=p(Ze);Oe=b(qt,"DIV",{class:!0});var Et=p(Oe);for(let ve=0;ve<se.length;ve+=1)se[ve].l(Et);He=y(Et);for(let ve=0;ve<ne.length;ve+=1)ne[ve].l(Et);Et.forEach(u),qt.forEach(u),bt.forEach(u),At.forEach(u),this.h()},h(){f(n,"class",s="twa twa-"+l[3].to),f(o,"title","Devolve Emoji"),f(o,"class","slot-lg"),c.__value=0,c.value=c.__value,i.disabled=!0,f(i,"class","select-bordered select select-sm text-xl"),f(i,"title","HP"),f(a,"class","absolute -bottom-4"),f(d,"class","absolute -bottom-12"),f(t,"class","flex scale-75 flex-col items-center justify-center"),f(I,"class",T="twa twa-"+l[4]),f(E,"title","Controllable Emoji"),f(E,"class","slot-lg"),f(V,"class","select-bordered select select-sm text-xl"),f(V,"title","HP"),l[0]===void 0&&Ve(()=>l[19].call(V)),f(D,"class","absolute -bottom-4"),f(k,"class","flex flex-col items-center justify-center"),f($,"class",Y="twa twa-"+l[1].to),f(G,"title","Evolve Emoji"),f(G,"class","slot-lg"),R.__value=101,R.value=R.__value,f(K,"class","select-bordered select select-sm text-xl"),f(K,"title","HP"),l[1].at===void 0&&Ve(()=>l[20].call(K)),f(ie,"class","absolute -bottom-4"),f(X,"class","absolute -bottom-12"),f(U,"class","flex scale-75 flex-col items-center justify-center"),f(e,"class","absolute -top-8 flex flex-row items-center justify-center gap-2"),f(Me,"for",""),f(Me,"tabindex","0"),f(Me,"class","btn text-2xl"),he(Me,"background",sl),f(Se,"tabindex","0"),f(Se,"class","dropdown-content menu rounded-box bg-base-100 p-2 shadow"),f(ce,"class","dropdown-right dropdown"),f(Ce,"class","divider flex flex-row pb-6"),f(Oe,"class","flex w-fit flex-wrap items-start justify-start gap-8"),f(Ze,"class","flex items-center justify-center px-12"),f(ee,"class","form-control flex w-full flex-col p-4"),f(B,"class","flex w-full flex-col items-center justify-center gap-4 pt-16")},m(N,W){A(N,e,W),h(e,t),h(t,o),h(o,n),h(t,r),h(t,a),h(a,i),h(i,c),h(c,_),h(t,g),h(t,d),h(d,w),h(e,v),h(e,k),h(k,E),h(E,I),h(k,C),h(k,D),h(D,V);for(let j=0;j<ge.length;j+=1)ge[j]&&ge[j].m(V,null);Z(V,l[0],!0),h(e,P),h(e,U),h(U,G),h(G,$),h(U,_e),h(U,ie),h(ie,K);for(let j=0;j<me.length;j+=1)me[j]&&me[j].m(K,null);h(K,R),h(R,Re),Z(K,l[1].at,!0),h(U,je),h(U,X),h(X,S),A(N,Q,W),A(N,B,W),h(B,ee),h(ee,Ce),h(Ce,De),h(De,qe),h(De,Qe),h(De,Ge),h(De,Je),h(De,Fe),h(Ce,Ae),h(Ce,ce),h(ce,Me),h(Me,gt),h(ce,We),h(ce,Se);for(let j=0;j<x.length;j+=1)x[j]&&x[j].m(Se,null);be&&be.m(Se,null),h(ee,mt),h(ee,Ze),h(Ze,Oe);for(let j=0;j<se.length;j+=1)se[j]&&se[j].m(Oe,null);h(Oe,He);for(let j=0;j<ne.length;j+=1)ne[j]&&ne[j].m(Oe,null);Xe||(et=[M(o,"click",l[17]),M(E,"click",l[15]),M(V,"change",l[19]),M(V,"change",l[11]),M(G,"click",l[16]),M(K,"change",l[20]),M(K,"change",l[11]),ll(l[18].call(null,U))],Xe=!0)},p(N,W){if(W[0]&8&&s!==(s="twa twa-"+N[3].to)&&f(n,"class",s),W[0]&16&&T!==(T="twa twa-"+N[4])&&f(I,"class",T),W[0]&256){Ye=N[8];let j;for(j=0;j<Ye.length;j+=1){const re=Yl(N,Ye,j);ge[j]?ge[j].p(re,W):(ge[j]=Jl(re),ge[j].c(),ge[j].m(V,null))}for(;j<ge.length;j+=1)ge[j].d(1);ge.length=Ye.length}if(W[0]&257&&Z(V,N[0]),W[0]&258&&Y!==(Y="twa twa-"+N[1].to)&&f($,"class",Y),W[0]&256){Ne=N[8];let j;for(j=0;j<Ne.length;j+=1){const re=Xl(N,Ne,j);me[j]?me[j].p(re,W):(me[j]=Zl(re),me[j].c(),me[j].m(K,R))}for(;j<me.length;j+=1)me[j].d(1);me.length=Ne.length}if(W[0]&258&&Z(K,N[1].at),W[0]&4&&ye!==(ye=N[2].length+"")&&Te(Qe,ye),W[0]&5120){Be=N[10];let j;for(j=0;j<Be.length;j+=1){const re=Ql(N,Be,j);x[j]?x[j].p(re,W):(x[j]=$l(re),x[j].c(),x[j].m(Se,null))}for(;j<x.length;j+=1)x[j].d(1);x.length=Be.length,!Be.length&&be?be.p(N,W):Be.length?be&&(be.d(1),be=null):(be=xl(),be.c(),be.m(Se,null))}if(W[0]&19076){tt=N[2];let j;for(j=0;j<tt.length;j+=1){const re=Wl(N,tt,j);se[j]?se[j].p(re,W):(se[j]=ls(re),se[j].c(),se[j].m(Oe,He))}for(;j<se.length;j+=1)se[j].d(1);se.length=tt.length}if(W[0]&32){oe=N[5];let j;for(j=0;j<oe.length;j+=1){const re=Gl(N,oe,j);ne[j]?ne[j].p(re,W):(ne[j]=ss(re),ne[j].c(),ne[j].m(Oe,null))}for(;j<ne.length;j+=1)ne[j].d(1);ne.length=oe.length}},i:Ie,o:Ie,d(N){N&&u(e),le(ge,N),le(me,N),N&&u(Q),N&&u(B),le(x,N),be&&be.d(),le(se,N),le(ne,N),Xe=!1,Le(et)}}}function Bo(l,e,t){let o,n,s,r;ae(l,rt,R=>t(7,n=R)),ae(l,ct,R=>t(26,s=R)),ae(l,wt,R=>t(27,r=R));let a=[],i=[];for(let R=0;R<100;R++)a[R]=R+1,i[R]=R+1;for(let R=0;R>=-100;R--)i.unshift(R);let{id:c}=e,{emoji:_=""}=e,{hp:g=1}=e,{sideEffects:d=[]}=e,{pseudoSideEffects:w=[]}=e,{evolve:v=new Zt("",2)}=e,{devolve:k=new xt("")}=e;Vt(()=>{let R=r.get(c);R&&t(4,{emoji:_,hp:g,sideEffects:d,evolve:v,devolve:k}=R,_,t(0,g),t(2,d),(t(1,v),t(0,g)),t(3,k))});function E(){wt.update(c,new js(_,g,d,v,k))}Mt(()=>{E()});function I(R){if(!d.some(([te,Re])=>te===R)){if(d.length===ft){Ue.warning(`Cannot have more than ${ft} side effects`);return}t(2,d=[...d,[R,0]]),E()}}function T(R,te){d.splice(te,1),t(2,d),E()}function C(R){d.splice(R,1),t(2,d),E()}function D(){if(s!=""&&[v.to,k.to].includes(s)){Ue.warning("A Controllable cannot evolve or devolve to itself");return}ol(c,wt,"controllable")||nl()||(t(4,_=s),E())}function V(){if(_===s){Ue.warning("A Controllable cannot evolve to itself");return}t(1,v.to=s,v),E()}function P(){if(_===s){Ue.warning("An interactable cannot devolve to itself");return}t(3,k.to=s,k),E()}function U(R){v.at<g&&t(1,v.at=g+1,v)}function G(){g=Pe(this),t(0,g),t(8,a)}function $(){v.at=Pe(this),t(1,v),t(0,g),t(8,a)}const Y=R=>I(R);function _e(R,te){R[te][1]=Pe(this),t(2,d),t(9,i)}const ie=R=>C(R);function K(R,te){R[te][1]=Pe(this),t(2,d),t(9,i)}return l.$$set=R=>{"id"in R&&t(6,c=R.id),"emoji"in R&&t(4,_=R.emoji),"hp"in R&&t(0,g=R.hp),"sideEffects"in R&&t(2,d=R.sideEffects),"pseudoSideEffects"in R&&t(5,w=R.pseudoSideEffects),"evolve"in R&&t(1,v=R.evolve),"devolve"in R&&t(3,k=R.devolve)},l.$$.update=()=>{l.$$.dirty[0]&128&&t(10,o=[...n].filter(([R,te])=>te.emoji!="")),l.$$.dirty[0]&3&&t(1,v.at=g>v.at?g+1:v.at,v)},[g,v,d,k,_,w,c,n,a,i,o,E,I,T,C,D,V,P,U,G,$,Y,_e,ie,K]}class Po extends _t{constructor(e){super(),dt(this,e,Bo,No,vt,{id:6,emoji:4,hp:0,sideEffects:2,pseudoSideEffects:5,evolve:1,devolve:3},null,[-1,-1])}}function os(l,e,t){const o=l.slice();return o[35]=e[t][0],o[36]=e[t][1],o}function ns(l,e,t){const o=l.slice();return o[39]=e[t],o}function rs(l,e,t){const o=l.slice();return o[42]=e[t],o[43]=e,o[44]=t,o}function as(l,e,t){const o=l.slice();return o[50]=e[t],o}function is(l,e,t){const o=l.slice();return o[45]=e[t],o}function cs(l,e,t){const o=l.slice();return o[45]=e[t],o}function us(l,e,t){const o=l.slice();return o[45]=e[t],o}function fs(l,e,t){const o=l.slice();return o[35]=e[t][0],o[36]=e[t][1],o}function hs(l,e,t){const o=l.slice();return o[39]=e[t],o}function Vo(l){let e,t,o,n,s,r,a;return{c(){e=F(l[0]),t=q(),o=m("button"),n=Yt("svg"),s=Yt("path"),this.h()},l(i){e=H(i,l[0]),t=y(i),o=b(i,"BUTTON",{title:!0,class:!0});var c=p(o);n=Jt(c,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var _=p(n);s=Jt(_,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(s).forEach(u),_.forEach(u),c.forEach(u),this.h()},h(){f(s,"stroke-linecap","round"),f(s,"stroke-linejoin","round"),f(s,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"),f(n,"xmlns","http://www.w3.org/2000/svg"),f(n,"fill","none"),f(n,"viewBox","0 0 24 24"),f(n,"stroke-width","1.5"),f(n,"stroke","currentColor"),f(n,"class","h-4 w-4"),f(o,"title","Change name"),f(o,"class","btn-xs btn w-fit self-center")},m(i,c){A(i,e,c),A(i,t,c),A(i,o,c),h(o,n),h(n,s),r||(a=M(o,"click",l[17]),r=!0)},p(i,c){c[0]&1&&Te(e,i[0])},d(i){i&&u(e),i&&u(t),i&&u(o),r=!1,a()}}}function Lo(l){let e,t,o,n,s,r,a,i;return{c(){e=m("form"),t=m("input"),o=q(),n=m("button"),s=Yt("svg"),r=Yt("path"),this.h()},l(c){e=b(c,"FORM",{class:!0});var _=p(e);t=b(_,"INPUT",{class:!0,type:!0}),o=y(_),n=b(_,"BUTTON",{type:!0,title:!0,class:!0});var g=p(n);s=Jt(g,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var d=p(s);r=Jt(d,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(r).forEach(u),d.forEach(u),g.forEach(u),_.forEach(u),this.h()},h(){f(t,"class","input-bordered input input-sm"),f(t,"type","text"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(r,"d","M4.5 12.75l6 6 9-13.5"),f(s,"xmlns","http://www.w3.org/2000/svg"),f(s,"fill","none"),f(s,"viewBox","0 0 24 24"),f(s,"stroke-width","1.5"),f(s,"stroke","currentColor"),f(s,"class","h-4 w-4"),f(n,"type","submit"),f(n,"title","Change name"),f(n,"class","btn-sm btn w-fit self-center"),f(e,"class","flex flex-row items-center gap-2")},m(c,_){A(c,e,_),h(e,t),hl(t,l[5]),h(e,o),h(e,n),h(n,s),h(s,r),a||(i=[M(t,"input",l[16]),M(e,"submit",l[14])],a=!0)},p(c,_){_[0]&32&&t.value!==c[5]&&hl(t,c[5])},d(c){c&&u(e),a=!1,Le(i)}}}function _s(l){let e,t=l[39]+"",o;return{c(){e=m("option"),o=F(t),this.h()},l(n){e=b(n,"OPTION",{});var s=p(e);o=H(s,t),s.forEach(u),this.h()},h(){e.__value=l[39],e.value=e.__value},m(n,s){A(n,e,s),h(e,o)},p:Ie,d(n){n&&u(e)}}}function ds(l){let e,t=l[36],o=[];for(let n=0;n<t.length;n+=1)o[n]=_s(hs(l,t,n));return{c(){e=m("optgroup");for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=b(n,"OPTGROUP",{label:!0});var s=p(e);for(let r=0;r<o.length;r+=1)o[r].l(s);s.forEach(u),this.h()},h(){f(e,"label",`${l[35]} ${l[9][l[35]]}`)},m(n,s){A(n,e,s);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(e,null)},p(n,s){if(s[0]&128){t=n[36];let r;for(r=0;r<t.length;r+=1){const a=hs(n,t,r);o[r]?o[r].p(a,s):(o[r]=_s(a),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=t.length}},d(n){n&&u(e),le(o,n)}}}function Ro(l){let e,t,o,n,s,r=l[2],a=[];for(let d=0;d<r.length;d+=1)a[d]=vs(is(l,r,d));function i(){l[22].call(e,l[43],l[44])}let c=dl.filter(l[23]),_=[];for(let d=0;d<c.length;d+=1)_[d]=gs(as(l,c,d));function g(){l[24].call(o,l[43],l[44])}return{c(){e=m("select");for(let d=0;d<a.length;d+=1)a[d].c();t=F(`\r
				to\r
				`),o=m("select");for(let d=0;d<_.length;d+=1)_[d].c();this.h()},l(d){e=b(d,"SELECT",{class:!0,title:!0,id:!0});var w=p(e);for(let k=0;k<a.length;k+=1)a[k].l(w);w.forEach(u),t=H(d,`\r
				to\r
				`),o=b(d,"SELECT",{class:!0,title:!0});var v=p(o);for(let k=0;k<_.length;k+=1)_[k].l(v);v.forEach(u),this.h()},h(){f(e,"class","select-bordered select"),f(e,"title","index"),f(e,"id","index"),l[42].index===void 0&&Ve(i),f(o,"class","select-bordered select"),f(o,"title","color"),l[42].background===void 0&&Ve(g),he(o,"background",l[42].background)},m(d,w){A(d,e,w);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(e,null);Z(e,l[42].index,!0),A(d,t,w),A(d,o,w);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(o,null);Z(o,l[42].background,!0),n||(s=[M(e,"change",i),M(e,"change",l[13]),M(o,"change",g),M(o,"change",l[13])],n=!0)},p(d,w){if(l=d,w[0]&4){r=l[2];let v;for(v=0;v<r.length;v+=1){const k=is(l,r,v);a[v]?a[v].p(k,w):(a[v]=vs(k),a[v].c(),a[v].m(e,null))}for(;v<a.length;v+=1)a[v].d(1);a.length=r.length}if(w[0]&130&&Z(e,l[42].index),w[0]&64){c=dl.filter(l[23]);let v;for(v=0;v<c.length;v+=1){const k=as(l,c,v);_[v]?_[v].p(k,w):(_[v]=gs(k),_[v].c(),_[v].m(o,null))}for(;v<_.length;v+=1)_[v].d(1);_.length=c.length}w[0]&130&&Z(o,l[42].background),w[0]&2&&he(o,"background",l[42].background)},d(d){d&&u(e),le(a,d),d&&u(t),d&&u(o),le(_,d),n=!1,Le(s)}}}function Ao(l){let e,t,o,n=l[2],s=[];for(let a=0;a<n.length;a+=1)s[a]=ms(cs(l,n,a));function r(){l[21].call(e,l[43],l[44])}return{c(){e=m("select");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=b(a,"SELECT",{class:!0,title:!0,id:!0});var i=p(e);for(let c=0;c<s.length;c+=1)s[c].l(i);i.forEach(u),this.h()},h(){f(e,"class","select-bordered select"),f(e,"title","index"),f(e,"id","index"),l[42].index===void 0&&Ve(r)},m(a,i){A(a,e,i);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);Z(e,l[42].index,!0),t||(o=[M(e,"change",r),M(e,"change",l[13])],t=!0)},p(a,i){if(l=a,i[0]&4){n=l[2];let c;for(c=0;c<n.length;c+=1){const _=cs(l,n,c);s[c]?s[c].p(_,i):(s[c]=ms(_),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=n.length}i[0]&130&&Z(e,l[42].index)},d(a){a&&u(e),le(s,a),t=!1,Le(o)}}}function Uo(l){let e,t,o,n,s,r,a;function i(){return l[19](l[44])}let c=l[2],_=[];for(let d=0;d<c.length;d+=1)_[d]=bs(us(l,c,d));function g(){l[20].call(s,l[43],l[44])}return{c(){e=m("button"),t=m("i"),n=F(`\r
				at\r
				`),s=m("select");for(let d=0;d<_.length;d+=1)_[d].c();this.h()},l(d){e=b(d,"BUTTON",{class:!0});var w=p(e);t=b(w,"I",{class:!0}),p(t).forEach(u),w.forEach(u),n=H(d,`\r
				at\r
				`),s=b(d,"SELECT",{class:!0,title:!0,id:!0});var v=p(s);for(let k=0;k<_.length;k+=1)_[k].l(v);v.forEach(u),this.h()},h(){f(t,"class",o="twa twa-"+l[42].emoji),f(e,"class","slot"),f(s,"class","select-bordered select"),f(s,"title","index"),f(s,"id","index"),l[42].index===void 0&&Ve(g)},m(d,w){A(d,e,w),h(e,t),A(d,n,w),A(d,s,w);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(s,null);Z(s,l[42].index,!0),r||(a=[M(e,"click",i),M(s,"change",g),M(s,"change",l[13])],r=!0)},p(d,w){if(l=d,w[0]&130&&o!==(o="twa twa-"+l[42].emoji)&&f(t,"class",o),w[0]&4){c=l[2];let v;for(v=0;v<c.length;v+=1){const k=us(l,c,v);_[v]?_[v].p(k,w):(_[v]=bs(k),_[v].c(),_[v].m(s,null))}for(;v<_.length;v+=1)_[v].d(1);_.length=c.length}w[0]&130&&Z(s,l[42].index)},d(d){d&&u(e),d&&u(n),d&&u(s),le(_,d),r=!1,Le(a)}}}function vs(l){let e,t=l[45]+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[45],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&4&&t!==(t=s[45]+"")&&Te(o,t),r[0]&4&&n!==(n=s[45])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function gs(l){let e;return{c(){e=m("option"),this.h()},l(t){e=b(t,"OPTION",{}),p(e).forEach(u),this.h()},h(){e.__value=l[50],e.value=e.__value,he(e,"background",l[50])},m(t,o){A(t,e,o)},p:Ie,d(t){t&&u(e)}}}function ms(l){let e,t=l[45]+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[45],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&4&&t!==(t=s[45]+"")&&Te(o,t),r[0]&4&&n!==(n=s[45])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function bs(l){let e,t=l[45]+"",o,n;return{c(){e=m("option"),o=F(t),this.h()},l(s){e=b(s,"OPTION",{});var r=p(e);o=H(r,t),r.forEach(u),this.h()},h(){e.__value=n=l[45],e.value=e.__value},m(s,r){A(s,e,r),h(e,o)},p(s,r){r[0]&4&&t!==(t=s[45]+"")&&Te(o,t),r[0]&4&&n!==(n=s[45])&&(e.__value=n,e.value=e.__value)},d(s){s&&u(e)}}}function ps(l){let e,t,o,n,s,r,a,i,c,_,g=Object.entries(l[7]),d=[];for(let T=0;T<g.length;T+=1)d[T]=ds(fs(l,g,T));function w(){l[18].call(t,l[43],l[44])}function v(T,C){if(T[42].type==="spawn")return Uo;if(T[42].type==="destroy"||T[42].type==="erase")return Ao;if(T[42].type==="paint")return Ro}let k=v(l),E=k&&k(l);function I(){return l[25](l[44])}return{c(){e=m("span"),t=m("select");for(let T=0;T<d.length;T+=1)d[T].c();n=q(),E&&E.c(),s=q(),r=m("div"),a=m("button"),i=F(Ke),this.h()},l(T){e=b(T,"SPAN",{class:!0});var C=p(e);t=b(C,"SELECT",{class:!0,title:!0});var D=p(t);for(let U=0;U<d.length;U+=1)d[U].l(D);D.forEach(u),n=y(C),E&&E.l(C),s=y(C),r=b(C,"DIV",{class:!0});var V=p(r);a=b(V,"BUTTON",{class:!0,id:!0});var P=p(a);i=H(P,Ke),P.forEach(u),V.forEach(u),C.forEach(u),this.h()},h(){f(t,"class","select-bordered select"),f(t,"title",o=l[8][l[42].type]),l[42].type===void 0&&Ve(w),f(a,"class","text-2xl"),f(a,"id","remove"),f(r,"class","flex flex-grow justify-end"),f(e,"class","flex w-full flex-row items-center justify-center gap-2")},m(T,C){A(T,e,C),h(e,t);for(let D=0;D<d.length;D+=1)d[D]&&d[D].m(t,null);Z(t,l[42].type,!0),h(e,n),E&&E.m(e,null),h(e,s),h(e,r),h(r,a),h(a,i),c||(_=[M(t,"change",w),M(a,"click",I)],c=!0)},p(T,C){if(l=T,C[0]&640){g=Object.entries(l[7]);let D;for(D=0;D<g.length;D+=1){const V=fs(l,g,D);d[D]?d[D].p(V,C):(d[D]=ds(V),d[D].c(),d[D].m(t,null))}for(;D<d.length;D+=1)d[D].d(1);d.length=g.length}C[0]&130&&o!==(o=l[8][l[42].type])&&f(t,"title",o),C[0]&130&&Z(t,l[42].type),k===(k=v(l))&&E?E.p(l,C):(E&&E.d(1),E=k&&k(l),E&&(E.c(),E.m(e,s)))},d(T){T&&u(e),le(d,T),E&&E.d(),c=!1,Le(_)}}}function Es(l){let e,t=l[39]+"",o;return{c(){e=m("option"),o=F(t),this.h()},l(n){e=b(n,"OPTION",{});var s=p(e);o=H(s,t),s.forEach(u),this.h()},h(){e.__value=l[39],e.value=e.__value},m(n,s){A(n,e,s),h(e,o)},p:Ie,d(n){n&&u(e)}}}function ws(l){let e,t=l[36],o=[];for(let n=0;n<t.length;n+=1)o[n]=Es(ns(l,t,n));return{c(){e=m("optgroup");for(let n=0;n<o.length;n+=1)o[n].c();this.h()},l(n){e=b(n,"OPTGROUP",{label:!0});var s=p(e);for(let r=0;r<o.length;r+=1)o[r].l(s);s.forEach(u),this.h()},h(){f(e,"label",`${l[35]} ${l[9][l[35]]}`)},m(n,s){A(n,e,s);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(e,null)},p(n,s){if(s[0]&128){t=n[36];let r;for(r=0;r<t.length;r+=1){const a=ns(n,t,r);o[r]?o[r].p(a,s):(o[r]=Es(a),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=t.length}},d(n){n&&u(e),le(o,n)}}}function qo(l){let e,t,o,n,s,r,a,i,c,_,g,d;function w(D,V){return D[4]?Lo:Vo}let v=w(l),k=v(l),E=l[1],I=[];for(let D=0;D<E.length;D+=1)I[D]=ps(rs(l,E,D));let T=Object.entries(l[7]),C=[];for(let D=0;D<T.length;D+=1)C[D]=ws(os(l,T,D));return{c(){e=m("div"),t=m("div"),k.c(),o=q();for(let D=0;D<I.length;D+=1)I[D].c();n=q(),s=m("label"),r=m("select");for(let D=0;D<C.length;D+=1)C[D].c();i=q(),c=m("button"),_=F("+"),this.h()},l(D){e=b(D,"DIV",{class:!0});var V=p(e);t=b(V,"DIV",{class:!0});var P=p(t);k.l(P),P.forEach(u),o=y(V);for(let Y=0;Y<I.length;Y+=1)I[Y].l(V);n=y(V),s=b(V,"LABEL",{class:!0});var U=p(s);r=b(U,"SELECT",{class:!0,title:!0});var G=p(r);for(let Y=0;Y<C.length;Y+=1)C[Y].l(G);G.forEach(u),i=y(U),c=b(U,"BUTTON",{class:!0});var $=p(c);_=H($,"+"),$.forEach(u),U.forEach(u),V.forEach(u),this.h()},h(){f(t,"class","divider"),f(r,"class","select-bordered select"),f(r,"title",a=l[8][l[3]]),l[3]===void 0&&Ve(()=>l[26].call(r)),f(c,"class","btn text-2xl"),f(s,"class","flex items-center justify-center gap-2"),f(e,"class","flex w-full flex-col gap-2 p-4")},m(D,V){A(D,e,V),h(e,t),k.m(t,null),h(e,o);for(let P=0;P<I.length;P+=1)I[P]&&I[P].m(e,null);h(e,n),h(e,s),h(s,r);for(let P=0;P<C.length;P+=1)C[P]&&C[P].m(r,null);Z(r,l[3],!0),h(s,i),h(s,c),h(c,_),g||(d=[M(r,"change",l[26]),M(c,"click",l[10])],g=!0)},p(D,V){if(v===(v=w(D))&&k?k.p(D,V):(k.d(1),k=v(D),k&&(k.c(),k.m(t,null))),V[0]&15302){E=D[1];let P;for(P=0;P<E.length;P+=1){const U=rs(D,E,P);I[P]?I[P].p(U,V):(I[P]=ps(U),I[P].c(),I[P].m(e,n))}for(;P<I.length;P+=1)I[P].d(1);I.length=E.length}if(V[0]&640){T=Object.entries(D[7]);let P;for(P=0;P<T.length;P+=1){const U=os(D,T,P);C[P]?C[P].p(U,V):(C[P]=ws(U),C[P].c(),C[P].m(r,null))}for(;P<C.length;P+=1)C[P].d(1);C.length=T.length}V[0]&136&&a!==(a=D[8][D[3]])&&f(r,"title",a),V[0]&136&&Z(r,D[3])},i:Ie,o:Ie,d(D){D&&u(e),k.d(),le(I,D),le(C,D),g=!1,Le(d)}}}function yo(l,e,t){let o,n,s;ae(l,ct,B=>t(32,o=B)),ae(l,to,B=>t(33,n=B)),ae(l,Pt,B=>t(34,s=B));let{id:r}=e,{name:a}=e,{sequence:i=[]}=e;Vt(()=>{let B=s.get(r);B&&t(0,{name:a,sequence:i}=B,a,t(1,i))});let c=n.dbg,_=[],g=[];for(let B=0;B<100;B++)g[B]=B+1;g.unshift("talk");for(let B=0;B>=-100;B--)g.unshift(B);for(let B=0;B<_l*_l;B++)_[B]=B;const d={Map:["spawn","destroy"],Background:["paint","erase"],Game:["reset","complete"]},w={paint:`paint

Paint the specificied cell in the current section.`,erase:`erase

Erase a color from the specified cell in the current section.`,spawn:`spawn

Spawn an emoji in the specified cell.`,destroy:`destory

Destroy the emoji in the specified cell.`,reset:`reset

Reset the game state to default.`,complete:`complete

Complete the game.`},v={Map:"",Background:"",Game:""};let k=d.Map[0],E=0,I=0,T="";function C(){t(1,i=[...i,new lo(k,$s,"",1,eo,"")]),P(),t(3,[k,E,I,T]=[d.Map[0],0,0,""],k)}function D(B){i.splice(B,1),t(1,i),P()}function V(B){t(1,i[B].emoji=o,i),P()}function P(){Pt.update(r,new Is(a,i)),ht.adjustHeight(r,i.length,ks)}let U=!1,G="";function $(){if(G==""){Ue.warning("Sequencer name cannot be empty");return}t(0,a=G),P(),t(4,U=!1)}function Y(){G=this.value,t(5,G)}const _e=()=>{t(5,G=a),t(4,U=!0)};function ie(B,ee){B[ee].type=Pe(this),t(1,i),t(7,d)}const K=B=>V(B);function R(B,ee){B[ee].index=Pe(this),t(1,i),t(7,d)}function te(B,ee){B[ee].index=Pe(this),t(1,i),t(7,d)}function Re(B,ee){B[ee].index=Pe(this),t(1,i),t(7,d)}const je=B=>B!=c;function X(B,ee){B[ee].background=Pe(this),t(1,i),t(7,d)}const S=B=>D(B);function Q(){k=Pe(this),t(3,k),t(7,d)}return l.$$set=B=>{"id"in B&&t(15,r=B.id),"name"in B&&t(0,a=B.name),"sequence"in B&&t(1,i=B.sequence)},[a,i,_,k,U,G,c,d,w,v,C,D,V,P,$,r,Y,_e,ie,K,R,te,Re,je,X,S,Q]}class Mo extends _t{constructor(e){super(),dt(this,e,yo,qo,vt,{id:15,name:0,sequence:1},null,[-1,-1])}}function Fo(l){let e,t;const o=[{id:l[0].id},l[1]];let n={};for(let s=0;s<o.length;s+=1)n=kt(n,o[s]);return e=new Io({props:n}),{c(){It(e.$$.fragment)},l(s){Tt(e.$$.fragment,s)},m(s,r){jt(e,s,r),t=!0},p(s,r){const a=r&3?Ot(o,[r&1&&{id:s[0].id},r&2&&Ct(s[1])]):{};e.$set(a)},i(s){t||(it(e.$$.fragment,s),t=!0)},o(s){at(e.$$.fragment,s),t=!1},d(s){Dt(e,s)}}}function Ho(l){let e,t;const o=[{id:l[0].id},l[1]];let n={};for(let s=0;s<o.length;s+=1)n=kt(n,o[s]);return e=new Mo({props:n}),{c(){It(e.$$.fragment)},l(s){Tt(e.$$.fragment,s)},m(s,r){jt(e,s,r),t=!0},p(s,r){const a=r&3?Ot(o,[r&1&&{id:s[0].id},r&2&&Ct(s[1])]):{};e.$set(a)},i(s){t||(it(e.$$.fragment,s),t=!0)},o(s){at(e.$$.fragment,s),t=!1},d(s){Dt(e,s)}}}function Go(l){let e,t;const o=[{id:l[0].id},l[1]];let n={};for(let s=0;s<o.length;s+=1)n=kt(n,o[s]);return e=new Eo({props:n}),{c(){It(e.$$.fragment)},l(s){Tt(e.$$.fragment,s)},m(s,r){jt(e,s,r),t=!0},p(s,r){const a=r&3?Ot(o,[r&1&&{id:s[0].id},r&2&&Ct(s[1])]):{};e.$set(a)},i(s){t||(it(e.$$.fragment,s),t=!0)},o(s){at(e.$$.fragment,s),t=!1},d(s){Dt(e,s)}}}function Wo(l){let e,t;const o=[{id:l[0].id},l[1]];let n={};for(let s=0;s<o.length;s+=1)n=kt(n,o[s]);return e=new Oo({props:n}),{c(){It(e.$$.fragment)},l(s){Tt(e.$$.fragment,s)},m(s,r){jt(e,s,r),t=!0},p(s,r){const a=r&3?Ot(o,[r&1&&{id:s[0].id},r&2&&Ct(s[1])]):{};e.$set(a)},i(s){t||(it(e.$$.fragment,s),t=!0)},o(s){at(e.$$.fragment,s),t=!1},d(s){Dt(e,s)}}}function zo(l){let e,t;const o=[{id:l[0].id},l[1]];let n={};for(let s=0;s<o.length;s+=1)n=kt(n,o[s]);return e=new Po({props:n}),{c(){It(e.$$.fragment)},l(s){Tt(e.$$.fragment,s)},m(s,r){jt(e,s,r),t=!0},p(s,r){const a=r&3?Ot(o,[r&1&&{id:s[0].id},r&2&&Ct(s[1])]):{};e.$set(a)},i(s){t||(it(e.$$.fragment,s),t=!0)},o(s){at(e.$$.fragment,s),t=!1},d(s){Dt(e,s)}}}function Ko(l){let e,t;const o=[{id:l[0].id},l[1]];let n={};for(let s=0;s<o.length;s+=1)n=kt(n,o[s]);return e=new mo({props:n}),{c(){It(e.$$.fragment)},l(s){Tt(e.$$.fragment,s)},m(s,r){jt(e,s,r),t=!0},p(s,r){const a=r&3?Ot(o,[r&1&&{id:s[0].id},r&2&&Ct(s[1])]):{};e.$set(a)},i(s){t||(it(e.$$.fragment,s),t=!0)},o(s){at(e.$$.fragment,s),t=!1},d(s){Dt(e,s)}}}function Qo(l){let e,t;const o=[{position:l[0].position},l[1]];let n={};for(let s=0;s<o.length;s+=1)n=kt(n,o[s]);return e=new fo({props:n}),{c(){It(e.$$.fragment)},l(s){Tt(e.$$.fragment,s)},m(s,r){jt(e,s,r),t=!0},p(s,r){const a=r&3?Ot(o,[r&1&&{position:s[0].position},r&2&&Ct(s[1])]):{};e.$set(a)},i(s){t||(it(e.$$.fragment,s),t=!0)},o(s){at(e.$$.fragment,s),t=!1},d(s){Dt(e,s)}}}function Xo(l){let e,t,o,n,s,r,a,i,c,_,g,d;const w=[Qo,Ko,zo,Wo,Go,Ho,Fo],v=[];function k(E,I){return E[0].type==="ctxMenu"?0:E[0].type==="interactable"?1:E[0].type==="controllable"?2:E[0].type==="effector"?3:E[0].type==="pusher"?4:E[0].type==="sequencer"?5:E[0].type==="merger"?6:-1}return~(a=k(l))&&(i=v[a]=w[a](l)),{c(){e=m("div"),t=m("nav"),o=q(),n=m("button"),s=F(Ke),r=q(),i&&i.c(),this.h()},l(E){e=b(E,"DIV",{class:!0,style:!0,id:!0});var I=p(e);t=b(I,"NAV",{class:!0}),p(t).forEach(u),o=y(I),n=b(I,"BUTTON",{style:!0,class:!0});var T=p(n);s=H(T,Ke),T.forEach(u),r=y(I),i&&i.l(I),I.forEach(u),this.h()},h(){f(t,"class","min-h-6 w-full cursor-move"),he(t,"display",l[0].type==="ctxMenu"?"none":"block"),he(t,"background-color",l[0].borderColor),he(n,"border-color",l[0].borderColor),f(n,"class","absolute right-0 top-0 flex h-6 w-6 cursor-pointer items-center justify-center rounded border-2 bg-white text-center text-xl"),he(n,"display",l[0].type==="ctxMenu"?"none":"flex"),f(e,"class","rulebox cursor-auto border-2 border-black shadow-xl svelte-g2nyvf"),he(e,"left",l[0].position.x+"px"),he(e,"top",l[0].position.y+"px"),he(e,"width",l[0].width+"px"),he(e,"height",l[0].height+"px"),he(e,"background-color",l[0].bgColor),f(e,"id",c="svelvet-"+l[0].id)},m(E,I){A(E,e,I),h(e,t),h(e,o),h(e,n),h(n,s),h(e,r),~a&&v[a].m(e,null),_=!0,g||(d=[M(window,"keydown",l[9]),M(window,"mousemove",l[10]),M(t,"mousedown",l[11]),M(t,"mouseup",l[12]),M(n,"click",l[7])],g=!0)},p(E,[I]){I&1&&he(t,"display",E[0].type==="ctxMenu"?"none":"block"),I&1&&he(t,"background-color",E[0].borderColor),(!_||I&1)&&he(n,"border-color",E[0].borderColor),I&1&&he(n,"display",E[0].type==="ctxMenu"?"none":"flex");let C=a;a=k(E),a===C?~a&&v[a].p(E,I):(i&&(Ds(),at(v[C],1,1,()=>{v[C]=null}),Ss()),~a?(i=v[a],i?i.p(E,I):(i=v[a]=w[a](E),i.c()),it(i,1),i.m(e,null)):i=null),(!_||I&1)&&he(e,"left",E[0].position.x+"px"),(!_||I&1)&&he(e,"top",E[0].position.y+"px"),(!_||I&1)&&he(e,"width",E[0].width+"px"),(!_||I&1)&&he(e,"height",E[0].height+"px"),(!_||I&1)&&he(e,"background-color",E[0].bgColor),(!_||I&1&&c!==(c="svelvet-"+E[0].id))&&f(e,"id",c)},i(E){_||(it(i),_=!0)},o(E){at(i),_=!1},d(E){E&&u(e),~a&&v[a].d(),g=!1,Le(d)}}}function Yo(l,e,t){let o,n,s,r,a,i,c;ae(l,ut,C=>t(13,n=C)),ae(l,wt,C=>t(14,s=C)),ae(l,vl,C=>t(15,r=C)),ae(l,no,C=>t(8,a=C)),ae(l,Xt,C=>t(5,i=C)),ae(l,tl,C=>t(6,c=C));let{rbx:_}=e,{props:g={}}=e,d=!1,w=!1;function v(){if(_.type==="interactable"&&r.has(_.id.toString())){el.show({content:"All dialogue content connected to this Interactable will be lost.",header:"Are you sure?",confirmText:"DELETE",onConfirm:()=>{vl.remove(_.id.toString()),ht.remove(_.id),ut.remove(_.id)},input:!1,danger:!0});return}else if(_.type==="effector"){for(let[C,D]of[...s,...n])for(let[V,P]of D.sideEffects)if(_.id==V){el.show({content:`Remove the Effector from <i class="twa twa-${D.emoji}"></i>'s side effects before deleting it.`,header:"Existing Relations",confirmText:"OKAY",onConfirm:()=>{},input:!1,danger:!1});return}}else if(_.type==="sequencer"){for(let[C,D]of n)for(let[V,P,U]of D.sideEffects)if(P==="trigger"&&_.id===U){el.show({content:`Remove the trigger from <i class="twa twa-${D.emoji}"></i>'s side effects before deleting it.`,header:"Existing Relations",confirmText:"OKAY",onConfirm:()=>{},input:!1,danger:!1});return}}switch(ht.remove(_.id),_.type){case"pusher":Bt.remove(_.id);break;case"merger":yt.remove(_.id);break;case"effector":rt.remove(_.id);break;case"controllable":wt.remove(_.id);break;case"sequencer":Pt.remove(_.id);break;case"interactable":ut.remove(_.id);break}}const k=C=>{C.code==="KeyR"&&(Qt(Xt,i=!1,i),t(2,d=!1),t(3,w=!1))},E=C=>{C.preventDefault(),o&&(ao(C,_.id),t(3,w=!0))},I=C=>{C.preventDefault(),t(2,d=!0),Qt(tl,c=_.id,c),Qt(Xt,i=!0,i)},T=C=>{t(2,d=!1),Qt(Xt,i=!1,i),!w&&_.id===c&&io(C,_.id),t(3,w=!1)};return l.$$set=C=>{"rbx"in C&&t(0,_=C.rbx),"props"in C&&t(1,g=C.props)},l.$$.update=()=>{l.$$.dirty&260&&t(4,o=d&&a)},[_,g,d,w,o,i,c,v,a,k,E,I,T]}class sn extends _t{constructor(e){super(),dt(this,e,Yo,Xo,vt,{rbx:0,props:1})}}export{Po as C,Oo as E,mo as I,Io as M,Eo as P,sn as R,ht as a,ln as b,ro as d,no as m,Xt as r};
