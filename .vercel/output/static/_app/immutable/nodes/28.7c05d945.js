import{S as O,i as j,s as G,an as q,e as h,b as u,ao as E,g as d,d as _,h as m,E as M,k as g,q as A,l as b,m as k,r as C,n as $,G as D,O as p,a8 as F,y as w,z as y,A as v,a9 as I,aa as L,B as x}from"../chunks/index.8e69b878.js";import{p as N}from"../chunks/stores.986fa1bf.js";import{G as P}from"../chunks/Game.4c236b82.js";import{L as S}from"../chunks/Loading.e774e7cd.js";function z(s){let t,n;return{c(){t=g("p"),n=A("Oops! Failed to get the game data."),this.h()},l(e){t=b(e,"P",{class:!0});var a=k(t);n=C(a,"Oops! Failed to get the game data."),a.forEach(m),this.h()},h(){$(t,"class","p-1")},m(e,a){u(e,t,a),D(t,n)},p,i:p,o:p,d(e){e&&m(t)}}}function B(s){let t,n,e;const a=[s[3]];let o={};for(let r=0;r<a.length;r+=1)o=F(o,a[r]);return n=new P({props:o}),{c(){t=g("main"),w(n.$$.fragment),this.h()},l(r){t=b(r,"MAIN",{class:!0});var c=k(t);y(n.$$.fragment,c),c.forEach(m),this.h()},h(){$(t,"class","editor relative box-border flex h-screen flex-col items-center justify-center overflow-hidden")},m(r,c){u(r,t,c),v(n,t,null),e=!0},p(r,c){const l=c&1?I(a,[L(r[3])]):{};n.$set(l)},i(r){e||(d(n.$$.fragment,r),e=!0)},o(r){_(n.$$.fragment,r),e=!1},d(r){r&&m(t),x(n)}}}function H(s){let t,n;return t=new S({}),{c(){w(t.$$.fragment)},l(e){y(t.$$.fragment,e)},m(e,a){v(t,e,a),n=!0},p,i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){_(t.$$.fragment,e),n=!1},d(e){x(t,e)}}}function J(s){let t,n,e={ctx:s,current:null,token:null,hasCatch:!0,pending:H,then:B,catch:z,value:3,error:4,blocks:[,,,]};return q(s[0](),e),{c(){t=h(),e.block.c()},l(a){t=h(),e.block.l(a)},m(a,o){u(a,t,o),e.block.m(a,e.anchor=o),e.mount=()=>t.parentNode,e.anchor=t,n=!0},p(a,[o]){s=a,E(e,s,o)},i(a){n||(d(e.block),n=!0)},o(a){for(let o=0;o<3;o+=1){const r=e.blocks[o];_(r)}n=!1},d(a){a&&m(t),e.block.d(a),e.token=null,e=null}}}function K(s,t,n){let e;M(s,N,r=>n(2,e=r));let{data:a}=t;async function o(){let{data:r,error:c}=await a.supabase.from("games").select("data").eq("id",e.params.id),l=r[0].data;if(c)throw c;if(l){for(let[i,f]of Object.entries(l))i!="map"&&(l[i]=new Map(f));for(let[i,f]of Object.entries(l.map))i=="dbg"||i=="ssi"||(l.map[i]=new Map(f));return l.map.ssi=parseInt(l.map.ssi),l}}return s.$$set=r=>{"data"in r&&n(1,a=r.data)},[o,a]}class V extends O{constructor(t){super(),j(this,t,K,J,G,{data:1})}}export{V as component};
