import{S as ce,i as fe,s as ue,k,a as j,a0 as $,q as M,e as G,l as w,m as v,c as x,a1 as ee,h as u,r as R,n as _,K as _e,b as P,G as d,U as te,a6 as le,P as z,a4 as pe,d as N,f as F,g as T,T as me,v as K,a7 as he,a2 as de,O as B,y as se,z as oe,A as ne,B as ie,a8 as ge,a9 as ve,aa as be}from"../chunks/index.8e69b878.js";import{G as ke}from"../chunks/GameCard.7371e394.js";import{P as we}from"../chunks/ProfileCard.476533cb.js";function re(i,t,e){const o=i.slice();return o[10]=t[e],o[12]=e,o}function ye(i){let t,e,o=i[2],s=[];for(let l=0;l<o.length;l+=1)s[l]=ae(re(i,o,l));const n=l=>N(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();t=G()},l(l){for(let a=0;a<s.length;a+=1)s[a].l(l);t=G()},m(l,a){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(l,a);P(l,t,a),e=!0},p(l,a){if(a&5){o=l[2];let r;for(r=0;r<o.length;r+=1){const f=re(l,o,r);s[r]?(s[r].p(f,a),T(s[r],1)):(s[r]=ae(f),s[r].c(),T(s[r],1),s[r].m(t.parentNode,t))}for(K(),r=o.length;r<s.length;r+=1)n(r);F()}},i(l){if(!e){for(let a=0;a<o.length;a+=1)T(s[a]);e=!0}},o(l){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)N(s[a]);e=!1},d(l){de(s,l),l&&u(t)}}}function Ee(i){let t;return{c(){t=M("An error occured. Please try again later")},l(e){t=R(e,"An error occured. Please try again later")},m(e,o){P(e,t,o)},p:B,i:B,o:B,d(e){e&&u(t)}}}function Pe(i){let t;return{c(){t=M("Searching...")},l(e){t=R(e,"Searching...")},m(e,o){P(e,t,o)},p:B,i:B,o:B,d(e){e&&u(t)}}}function Te(i){let t,e,o,s;return e=new we({props:{username:i[10].username}}),{c(){t=k("div"),se(e.$$.fragment),o=j(),this.h()},l(n){t=w(n,"DIV",{class:!0});var l=v(t);oe(e.$$.fragment,l),o=x(l),l.forEach(u),this.h()},h(){_(t,"class","flex h-full flex-wrap gap-2 overflow-y-auto")},m(n,l){P(n,t,l),ne(e,t,null),d(t,o),s=!0},p(n,l){const a={};l&4&&(a.username=n[10].username),e.$set(a)},i(n){s||(T(e.$$.fragment,n),s=!0)},o(n){N(e.$$.fragment,n),s=!1},d(n){n&&u(t),ie(e)}}}function Ce(i){let t,e,o,s;const n=[{index:i[12]},i[10]];let l={};for(let a=0;a<n.length;a+=1)l=ge(l,n[a]);return e=new ke({props:l}),{c(){t=k("div"),se(e.$$.fragment),o=j(),this.h()},l(a){t=w(a,"DIV",{class:!0});var r=v(t);oe(e.$$.fragment,r),o=x(r),r.forEach(u),this.h()},h(){_(t,"class","flex h-fit flex-col overflow-y-auto overflow-x-hidden pr-2")},m(a,r){P(a,t,r),ne(e,t,null),d(t,o),s=!0},p(a,r){const f=r&4?ve(n,[n[0],be(a[10])]):{};e.$set(f)},i(a){s||(T(e.$$.fragment,a),s=!0)},o(a){N(e.$$.fragment,a),s=!1},d(a){a&&u(t),ie(e)}}}function ae(i){let t,e,o,s;const n=[Ce,Te],l=[];function a(r,f){return r[0]=="games"?0:r[0]=="profiles"?1:-1}return~(t=a(i))&&(e=l[t]=n[t](i)),{c(){e&&e.c(),o=G()},l(r){e&&e.l(r),o=G()},m(r,f){~t&&l[t].m(r,f),P(r,o,f),s=!0},p(r,f){let g=t;t=a(r),t===g?~t&&l[t].p(r,f):(e&&(K(),N(l[g],1,1,()=>{l[g]=null}),F()),~t?(e=l[t],e?e.p(r,f):(e=l[t]=n[t](r),e.c()),T(e,1),e.m(o.parentNode,o)):e=null)},i(r){s||(T(e),s=!0)},o(r){N(e),s=!1},d(r){~t&&l[t].d(r),r&&u(o)}}}function Ie(i){let t,e,o,s,n,l,a,r,f,g,q,b,y,A,E,O,L,m,h,S,D,U,H;const J=[Pe,Ee,ye],C=[];function Q(c,p){return c[3]?0:c[4]?1:c[2].length>0?2:-1}return~(m=Q(i))&&(h=C[m]=J[m](i)),{c(){t=k("div"),e=k("form"),o=k("input"),s=j(),n=k("button"),l=$("svg"),a=$("path"),r=j(),f=k("select"),g=k("option"),q=M("Games"),b=k("option"),y=M("Profiles"),A=j(),E=k("i"),L=j(),h&&h.c(),S=G(),this.h()},l(c){t=w(c,"DIV",{class:!0});var p=v(t);e=w(p,"FORM",{class:!0});var I=v(e);o=w(I,"INPUT",{type:!0,class:!0}),s=x(I),n=w(I,"BUTTON",{class:!0});var W=v(n);l=ee(W,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var X=v(l);a=ee(X,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(a).forEach(u),X.forEach(u),W.forEach(u),I.forEach(u),r=x(p),f=w(p,"SELECT",{class:!0});var V=v(f);g=w(V,"OPTION",{});var Y=v(g);q=R(Y,"Games"),Y.forEach(u),b=w(V,"OPTION",{});var Z=v(b);y=R(Z,"Profiles"),Z.forEach(u),V.forEach(u),A=x(p),E=w(p,"I",{class:!0}),v(E).forEach(u),p.forEach(u),L=x(c),h&&h.l(c),S=G(),this.h()},h(){_(o,"type","text"),_(o,"class","input-bordered input w-full"),o.required=!0,_(a,"stroke-linecap","round"),_(a,"stroke-linejoin","round"),_(a,"d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"),_(l,"xmlns","http://www.w3.org/2000/svg"),_(l,"fill","none"),_(l,"viewBox","0 0 24 24"),_(l,"stroke-width","1.5"),_(l,"stroke","currentColor"),_(l,"class","h-6 w-6"),_(n,"class","btn-ghost btn-sm btn absolute right-0.5 h-full border-none hover:border-none"),_(e,"class","relative w-full"),g.__value="games",g.value=g.__value,b.__value="profiles",b.value=b.__value,_(f,"class","select-bordered select"),i[0]===void 0&&_e(()=>i[8].call(f)),_(E,"class",O="twa text-4xl twa-"+(i[0]=="games"?"joystick":"alien-monster")),_(t,"class","flex flex-row gap-2 pb-2")},m(c,p){P(c,t,p),d(t,e),d(e,o),te(o,i[1]),d(e,s),d(e,n),d(n,l),d(l,a),d(t,r),d(t,f),d(f,g),d(g,q),d(f,b),d(b,y),le(f,i[0],!0),d(t,A),d(t,E),P(c,L,p),~m&&C[m].m(c,p),P(c,S,p),D=!0,U||(H=[z(o,"input",i[7]),z(e,"submit",pe(i[5])),z(f,"change",i[8])],U=!0)},p(c,[p]){p&2&&o.value!==c[1]&&te(o,c[1]),p&1&&le(f,c[0]),(!D||p&1&&O!==(O="twa text-4xl twa-"+(c[0]=="games"?"joystick":"alien-monster")))&&_(E,"class",O);let I=m;m=Q(c),m===I?~m&&C[m].p(c,p):(h&&(K(),N(C[I],1,1,()=>{C[I]=null}),F()),~m?(h=C[m],h?h.p(c,p):(h=C[m]=J[m](c),h.c()),T(h,1),h.m(S.parentNode,S)):h=null)},i(c){D||(T(h),D=!0)},o(c){N(h),D=!1},d(c){c&&u(t),c&&u(L),~m&&C[m].d(c),c&&u(S),U=!1,me(H)}}}function Ne(i,t,e){let{data:o}=t,s="games",n="",l=[],a=!1,r=!1,f=new Map;async function g(){let y=f.get(n.toLowerCase());if(y){e(2,l=y);return}e(4,r=!1),e(3,a=!0);let A=s=="games"?"name":"username";const{data:E,error:O}=await o.supabase.from(s).select().textSearch(A,n);e(3,a=!1),O?(e(4,r=!0),e(2,l=[])):E&&(f.set(s+"_"+n.toLowerCase(),o),e(2,l=E))}function q(){n=this.value,e(1,n)}function b(){s=he(this),e(0,s)}return i.$$set=y=>{"data"in y&&e(6,o=y.data)},[s,n,l,a,r,g,o,q,b]}class xe extends ce{constructor(t){super(),fe(this,t,Ne,Ie,ue,{data:6})}}export{xe as component};
